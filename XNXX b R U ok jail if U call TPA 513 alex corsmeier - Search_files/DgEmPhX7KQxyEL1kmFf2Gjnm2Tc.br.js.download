define("Types/SuggestionTypes",["require","exports"],function(n,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.ASSuggestionTypes=t.SuggestionExpansionType=void 0,function(n){n[n.NO_EXPANSION=0]="NO_EXPANSION";n[n.REQUERY_EXPANSION=1]="REQUERY_EXPANSION";n[n.ZIS_EXPANSION=2]="ZIS_EXPANSION";n[n.QF_EXPANSION=3]="QF_EXPANSION"}(i=t.SuggestionExpansionType||(t.SuggestionExpansionType={})),function(n){n.PreviousContextualSuggestions="PCGS";n.SuggestionChips="SCHP"}(r=t.ASSuggestionTypes||(t.ASSuggestionTypes={}))});define("Types/CoreTypes",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.instTracker=t.GlobalInstTracker=void 0;t.GlobalInstTracker=_w.GlobalInstTracker;t.instTracker=typeof t.GlobalInstTracker!="undefined"?t.GlobalInstTracker.createInstTracker("CSAS"):null});define("Utilities/SuggestionUtilities",["require","exports"],function(n,t){"use strict";function ut(n,t){return t.map(t=>{if(t.q&&n&&n.length>0&&t.q.startsWith(n)){const i=t.q.slice(n.length);return Object.assign(Object.assign({},t),{hq:`${n}<strong>${i}</strong>`})}return t})}function u(n,...t){return n?n.replace(/{(\d+)}/g,function(n,i){return typeof t[i]!="undefined"?t[i]:n}):""}Object.defineProperty(t,"__esModule",{value:!0});t.highlightSuggestions=t.getCamelCase=t.getHighlightedSuggestions=t.combinePSCSuggestions=t.storePSCSuggestions=t.updateCvidInSuggestion=t.escapeHTML=t.processSuggestionResponse=t.div=t.setPanelValue=t.createSuggestionBlock=t.isUserSignedIn=t.hasHistorySuggestion=t.onClickHandler=t.updateSearchBoxValueOnHover=t.getNextSelectedSuggestion=t.getHValueFromId=t.convertHighlightedQueryToPlainQuery=t.convertHighlightedQueryToHtml=void 0;const i=/\/g,r=/\/g,f=/[\\]/g,e=/"/g,o=n=>{if(n!==null&&n!==void 0)return n.replace(i,"<strong>").replace(r,"<\/strong>")};t.convertHighlightedQueryToHtml=o;const s=n=>{if(n!==null&&n!==void 0)return n.replace(f,"")};t.convertHighlightedQueryToPlainQuery=s;const h=n=>{var t,i,r;const u=n.split("_")[1],f=(i=(t=sa_config===null||sa_config===void 0?void 0:sa_config.sfx)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"";return r=sa_config.isCST1?"CSAS_"+f:"autosuggest",`ID=${r},${u}.1`};t.getHValueFromId=h;const c=(n,t,i)=>{switch(t){case 0:if(!n){const n=i.length-1;return{dataSourceIndex:n,index:i[n].suggestions.length-1}}if(n.index>0)return{dataSourceIndex:n.dataSourceIndex,index:n.index-1};if(i.length>1){const t=n.dataSourceIndex===0?null:n.dataSourceIndex-1;return t!=null?{dataSourceIndex:t,index:i[t].suggestions.length-1}:null}return null;case 1:if(!n&&i[0].suggestions.length>0)return{dataSourceIndex:0,index:0};if(n&&i[n.dataSourceIndex].suggestions.length>n.index+1)return{dataSourceIndex:n.dataSourceIndex,index:n.index+1};if(n&&i.length>1){const t=n.dataSourceIndex+1===i.length?null:n.dataSourceIndex+1;return t?{dataSourceIndex:t,index:0}:null}return null;default:return null}};t.getNextSelectedSuggestion=c;const l=(n,t,i)=>{var r,u;if(n){const i=(r=t[n.dataSourceIndex])===null||r===void 0?void 0:r.suggestions[n.index];if(i!==null&&i!==undefined)if(sa_config.enableEASE&&i.t==="ECS"){const r=(u=t[n.dataSourceIndex])===null||u===void 0?void 0:u.suggestions[0];sj_evt.fire("AS.CsrSuggestionOnHover",i,i.nw?i.fq:r.q+" "+i.q)}else sj_evt.fire("AS.CsrSuggestionOnHover",i,i.nw?i.fq:i.q)}else sj_evt.fire("AS.CsrSuggestionOnHover",undefined,i)};t.updateSearchBoxValueOnHover=l;const a=(n,t,i)=>{sj_evt.fire("AS.CsrSuggestionOnClick",n,t,i)};t.onClickHandler=a;const v=n=>n.some(n=>n.t=="HS"||n.bt=="HS");t.hasHistorySuggestion=v;const y=n=>n===1;t.isUserSignedIn=y;const p=n=>{function o(n,t){return[f,n,t,e].filter(n=>n.suggestions.length>0)}if(!n||n.length===0)return[{id:"sa_empty_block",suggestions:[]}];let f={id:"sa_hs_block",suggestions:[]},r={id:"sa_pn_block",heading:sa_loc.H_PN,suggestions:[]},u={id:"sa_sse_block",heading:sa_loc.H_SSE,suggestions:[]},e={id:"sa_sug_block",suggestions:[]},t=null,i=null;return n.forEach((n,o)=>{n.t==="HS"||n.bt==="HS"?f.suggestions.push(n):n.t==="PN"||n.bt==="PN"||n.t==="MIT"?(t=t?t:o,r.suggestions.push(n)):n.t==="SSE"||n.bt==="SSE"?(i=i?i:o,u.suggestions.push(n)):e.suggestions.push(n)}),(t||-1)<(i||-1)?o(r,u):o(u,r)};t.createSuggestionBlock=p;const w=n=>{n.filter(n=>!n.ext).forEach(n=>{n.panel={ot:sb_gt()}})};t.setPanelValue=w;t.div=sj_ce("div");const b=(n,i)=>{var f,e,o;let r;try{r=Object.assign({s:[],i:{}},JSON.parse(n))}catch(s){r=JSON.parse(n.substring(0,n.indexOf("<!--<![CDATA")))}if(sa_config.enablespb&&((f=r===null||r===void 0?void 0:r.s)===null||f===void 0?void 0:f.length)>0&&r.s.push({originalIndex:0,id:"sa_9999",q:"Download Bing Wallpaper app",u:"https://go.microsoft.com/fwlink/?linkid=2127820&pc=W233",t:"SPB"}),i.eaitqrytag&&((e=r===null||r===void 0?void 0:r.s)===null||e===void 0?void 0:e.length)>0){const n=r.s.findIndex(n=>n.t==="PN"||n.bt==="PN"||n.t==="MIT"||n.bt==="MIT"||n.t==="SSE"||n.bt==="SSE");if(n>-1&&(Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["caninstait"]),i.aseaitools)){o=`&cvid=${_G.IG}&qs=AIT&sk=HS${n}&sc=${r.s.length+2}-0`;const t={originalIndex:0,id:"sa_19998",q:sa_loc.ImageCreator,u:u(i.bicTargetUrl,sa_loc.ImageCreator.toLowerCase())+o,t:"AIT"},f={originalIndex:0,id:"sa_19999",q:sa_loc.VideoCreator,u:u(i.bvcTargetUrl,sa_loc.VideoCreator.toLowerCase())+o,t:"AIT"};r.s.splice(n,0,t,f)}}return{s:r.s.map((n,r)=>{const u=t.escapeHTML(t.div,n.q);if(i.firstSugEntity&&n.t==="MB"&&r===0){const t=`{ "q": "${n.q}", "t": "${n.t}" }`;Log.Log("FirstEntity","AS","EASEInst",!1,"CustomData",t);Log.LogFilterFlare&&Log.LogFilterFlare(["aseasecl"])}return Object.assign(Object.assign({},n),{originalIndex:r,q:n.fq?n.fq:t.convertHighlightedQueryToPlainQuery(u.q)||"",hq:u.hq})}),i:r.i}};t.processSuggestionResponse=b;const k=(n,t)=>(n.textContent=t,{hq:n.innerHTML.replace(e,"&quot;").replace(i,"<strong>").replace(r,"<\/strong>"),q:n.innerText});t.escapeHTML=k;const d=n=>{const r=_G.IG;if(!r)return n;const t="cvid=",i=n.indexOf(t);if(i===-1)return n+(n.indexOf("?")===-1?"?":"&")+t+r;const u=n.indexOf("&",i),f=u===-1?n.substring(i+t.length):n.substring(i+t.length,u);return f===r?n:u===-1?n.substring(0,i+t.length)+r:n.substring(0,i+t.length)+r+n.substring(u)},g=n=>{n.t==="GS"&&(n.u=d(n.u))};t.updateCvidInSuggestion=g;const nt=n=>{const r=n[1],i=t.processSuggestionResponse(r,sa_config);i.s&&i.s.length!==0&&_w.localStorage&&_w.localStorage.setItem("PSCSuggestions",JSON.stringify(i.s))};t.storePSCSuggestions=nt;const tt=(n,t)=>{var r,u;if(n.length===0)return t;const f=_w.localStorage?_w.localStorage.getItem("PSCSuggestions"):null;if(!f)return t;let e;try{e=JSON.parse(f)}catch(v){return t}const o=e.filter(t=>t.q.startsWith(n));if(o.length===0)return t;const h=["RI","NM","NH","SSA"];for(r=-1,u=0;u<t.length;u++)if(h.indexOf(t[u].t)!==-1||t[u].t.indexOf("NW")===0){r=u;break}var c=r!==-1?t.slice(0,r):t,l=r!==-1?t.slice(r):[],a=c.concat(o,l),s={},i=[];return a.forEach(function(n){for(var u,f=n.u.split("?")[1].split("&"),t=null,r=0;r<f.length;r++)if(u=f[r].split("="),u[0]==="q"){t=u[1];break}t&&!s[t]&&(s[t]=!0,i.push(n))}),i.forEach((n,t)=>{n.id=`sa_500${t+4}`,n.originalIndex=t}),i.length>0&&(i[0].g||(i[0].g=i[0].q),i.forEach((n,t)=>{t!==0&&delete n.g})),i.slice(0,Math.max(t.length,sa_config.maxSuggestions||0))};t.combinePSCSuggestions=tt;const it=(n,t,i)=>{if(i){const i=t.filter(n=>n.q!==undefined);return i.map(t=>Object.assign(Object.assign({},t),{hq:`${n} <strong>${t.q}</strong>`}))}return t};t.getHighlightedSuggestions=it;const rt=n=>n?n.toLowerCase().split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "):"";t.getCamelCase=rt;t.highlightSuggestions=ut});define("Components/Core/LeftIcon/LeftIcon",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LeftIcon=void 0;const i={[0]:"sa_sg_trendingicon",[1]:"sa_sg_searchicon",[2]:"sa_sg_historyicon",[3]:"sa_sg_bicicon",[4]:"sa_sg_bvcicon"},r=n=>preact.h("div",{"class":"sa_sg_icon_area","aria-hidden":"true"},preact.h("div",{"class":`sa_sg_corner_icon ${i[n.type]}`}));t.LeftIcon=r});define("Components/Core/AnnotationIcon/AnnotationIcon",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationIcon=void 0;const i={[0]:"sa_sg_a_freshicon"},r=n=>{const t=sa_config&&sa_config.enableAnnotationForFresh;return preact.h("div",{"class":`sa_sg_icon_area ${t&&n.isEntity?"an_sa_sg_icon_area":""}`,"aria-hidden":"true"},preact.h("div",{"class":`sa_sg_corner_icon ${i[n.type]}`}))};t.AnnotationIcon=r});define("Components/Banners/Constants",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.linkId=t.bannerId=t.RemoveButtonDefaultLabel=t.ManageHistoryDefaultLabel=t.ManageHistoryUrl=t.PrivateBannerLinkDefaultLabel=t.PrivateBannerMobileDefaultText=t.PrivateBannerDefaultText=t.PrivateSearchUrl=void 0;t.PrivateSearchUrl="/account/general?ru={0}&FORM=O2HV65";t.PrivateBannerDefaultText="Your search history and site cookies aren't saved. Learn more about";t.PrivateBannerMobileDefaultText="Learn more about ";t.PrivateBannerLinkDefaultLabel="InPrivate Search";t.ManageHistoryUrl="/profile/history?FORM=ASRMHS";t.ManageHistoryDefaultLabel="Manage Your Search History";t.RemoveButtonDefaultLabel="Remove";t.bannerId="as_foot";t.linkId="as_foot_link"});define("Components/Core/RemoveButton",["require","exports","Components/Banners/Constants"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RemoveButton=void 0;const r=n=>{const t=(t,i,r,u)=>{t.stopPropagation();sj_evt.fire("AS.CsrSuggestionOnRemoveButtonClick",{q:i,u:r,id:u});n.onDeleteFunc(n.index)},r=(i,r,u,f)=>{n.searchBoxInputElement&&(i.key==="Enter"?t(i,r,u,f):(i.preventDefault(),n.searchBoxInputElement.dispatchEvent(new KeyboardEvent("keydown",{keyCode:i.keyCode}))))};return n.isMobile?preact.h("div",{"class":"as_icon as_hr","aria-hidden":"true",onMouseUp:i=>t(i,n.query,n.url,n.id)}):preact.h("div",{"class":"sa_rm",onMouseUp:i=>{t(i,n.query,n.url,n.id)},onKeyDown:t=>{r(t,n.query,n.url,n.id)}},preact.h("a",{role:"button",href:"#rm",tabindex:"0",ich:"1"},sa_loc.RemoveHistorySuggestion||i.RemoveButtonDefaultLabel))};t.RemoveButton=r});define("Components/Core/QueryBuilderButton",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.QueryBuilderButton=void 0;const i=n=>preact.h("div",{"class":"as_icon as_qb","aria-hidden":"true",onMouseUp:t=>{t.stopPropagation(),sj_evt.fire("AS.CsrSuggestionOnQueryBuilderClick",n.query)},id:n.id});t.QueryBuilderButton=i});define("Components/Suggestions/RegularSuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon","Components/Core/AnnotationIcon/AnnotationIcon","Components/Core/RemoveButton","Components/Core/QueryBuilderButton","Types/SuggestionTypes","Types/CoreTypes"],function(n,t,i,r,u,f,e,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RegularSuggestion=void 0;const h=n=>{const t=n.suggestion.t=="HS"||n.suggestion.bt=="HS",v=sa_config&&sa_config.enableAnnotationForFresh&&n.suggestion.t=="FT",l=sa_config&&sa_config.isCS,c=sa_config&&sa_config.isCST1,a=n.suggestion.t==o.ASSuggestionTypes.PreviousContextualSuggestions||n.suggestion.t==o.ASSuggestionTypes.SuggestionChips;s.instTracker&&(s.instTracker.itemFactory.lastId=parseInt(n.suggestion.id.split("_")[1],10));let h=preactHooks.useRef();return h.current=c&&a&&s.instTracker?s.instTracker.itemFactory.createInstrumentedItem({Name:n.suggestion.t,Text:n.suggestion.q}):undefined,c&&a&&s.instTracker&&h&&h.current&&preactHooks.useEffect(()=>{if(n.onRender)n.onRender(h.current)},[n.prefix]),!n.isMobile&&t&&n.enableRemoveHistory&&n.onDeleteFunc&&n.searchBoxInputElement?preact.h("div",{"class":`sa_prnt ${n.isSelected?" sa_hv":""} sa_blue_hv ${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}${sa_config.astoptn&&n.suggestion.t==="PN"&&n.suggestion.originalIndex<2?" sa_top_tn_color":""}`,onMouseOver:()=>n.onMouseOverFunc(n.suggestion.originalIndex)},preact.h("li",{"class":`sa_sg ${sa_config.asmltline?" sa_mlti_line":""}${n.isSelected&&n.isKBSelected?" sa_kb_focus":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.nw?n.suggestion.fq:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),searchBoxInputElement:n.searchBoxInputElement,"aria-label":n.suggestion.q+`${t?", Search History":""}`},!l&&preact.h(r.LeftIcon,{type:n.iconType}),preact.h("div",{"class":`${t?"sa_tmHS":"sa_tm"}${sa_config.asmltline?" sa_mlti_line":""}`},preact.h("span",{dangerouslySetInnerHTML:{__html:`${n.suggestion.nw?"... ":""}${n.suggestion.hq}`}}))),preact.h(f.RemoveButton,{query:n.suggestion.q,url:n.suggestion.u,id:n.suggestion.id,onDeleteFunc:n.onDeleteFunc,index:n.suggestion.originalIndex,searchBoxInputElement:n.searchBoxInputElement})):preact.h("li",{"class":`sa_sg ${n.isSelected?" sa_hv":""} sa_blue_hv  ${n.isSelected&&n.isKBSelected?" sa_kb_focus":""} ${sa_config.asmltline?" sa_mlti_line":""}${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}${sa_config.astoptn&&n.suggestion.t==="PN"&&n.suggestion.originalIndex<2?" sa_top_tn_color":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.suggestion.originalIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.nw?n.suggestion.fq:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"data-cspi":h.current?s.GlobalInstTracker.composeHValue(h.current):"","data-clicks":c?"true":"","data-ig":c?n.ig:"","aria-label":n.suggestion.q+`${t?", Search History":""}`},n.isMobile&&(t&&n.enableRemoveHistory&&n.onDeleteFunc?preact.h(f.RemoveButton,{query:n.suggestion.q,url:n.suggestion.u,id:n.suggestion.id,isMobile:!0,onDeleteFunc:n.onDeleteFunc,index:n.suggestion.originalIndex}):preact.h(e.QueryBuilderButton,{query:n.suggestion.nw?n.suggestion.fq||"":n.suggestion.q,id:n.suggestion.id+"_qb"})),!l&&preact.h(r.LeftIcon,{type:n.iconType}),preact.h("div",{"class":`${t?"sa_tmHS":"sa_tm"}${sa_config.asmltline?" sa_mlti_line":""}`},preact.h("span",{dangerouslySetInnerHTML:{__html:`${n.suggestion.nw?"... ":""}${n.suggestion.hq}`}})),v&&preact.h(u.AnnotationIcon,{type:0}),t&&n.enableRemoveHistory&&!n.isMobile&&n.onDeleteFunc&&preact.h(f.RemoveButton,{query:n.suggestion.q,url:n.suggestion.u,id:n.suggestion.id,onDeleteFunc:n.onDeleteFunc,index:n.suggestion.originalIndex}))};t.RegularSuggestion=h});define("Components/Suggestions/AlphaSuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AlphaSuggestion=void 0;const u=n=>{const t=n.suggestion.ext.des||"";return preact.h("li",{"class":`pp_tile richans_all${n.isSelected?" sa_hv":""}  ${n.isSelected&&n.isKBSelected?" sa_kb_focus":""}  sa_blue_hv${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.suggestion.originalIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":t},preact.h("div",{"class":"sa_ppContainer","aria-hidden":"true"},preact.h(r.LeftIcon,{type:1}),preact.h("div",{"class":"sa_ans"},preact.h("span",{"class":"smallerAnswerStandardText"},preact.h("span",null,n.suggestion.hq," ",preact.h("strong",null," = ",t))),preact.h("div",{"class":"sa_tm"},n.suggestion.hq))))};t.AlphaSuggestion=u});define("Components/Suggestions/EntitySuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon","Components/Core/RemoveButton","Components/Core/AnnotationIcon/AnnotationIcon","Components/Core/QueryBuilderButton"],function(n,t,i,r,u,f,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EntitySuggestion=void 0;const o=n=>{var l,a,v,y,p;const h=n.suggestion.bt=="HS",s=n.suggestion.bt==="SSE"&&n.isHorizontalLayout&&(sa_config.isZiHorLayout||sa_config.isZiHorLayoutPNCombined||sa_config.isZiHorLayoutCombinedTreatment),w=((l=sa_config.enableLeftIconForEntityTypes)===null||l===void 0?void 0:l.indexOf(n.suggestion.t))!==-1,t=n.suggestion.ext,o=t.des&&t.des!="",b=sa_config&&sa_config.enableAnnotationForFresh&&n.suggestion.bt=="FT",c=sa_config.enableSingleLineEntity&&!n.isMobile,k=sa_config.enableSingleLineEntity&&!n.isMobile&&sa_config.enableSingleLineEntitySmall;return!n.isMobile&&h&&n.enableRemoveHistory&&n.onDeleteFunc&&n.searchBoxInputElement?preact.h("div",{"class":`sa_prnt ${n.isSelected?" sa_hv":""}${s?" pp_sTileMB":""} sa_blue_hv${sa_config.astoptn&&n.suggestion.bt==="PN"&&n.suggestion.originalIndex<2?" sa_top_tn_color":""}`,onMouseOver:()=>{if(sa_config.selectEntity){const t=`{ "q": "${n.suggestion.q}", "t": "${n.suggestion.t}" }`;Log&&Log.Log&&Log.Log("selectEntSug","AS","EASEInst",!1,"CustomData",t);Log.LogFilterFlare&&Log.LogFilterFlare(["aseasecl"])}return n.onMouseOverFunc(n.suggestion.originalIndex)}},preact.h("li",{"class":`pp_tile pp_sTile${h?" pp_sTileHS":""}${s?" pp_sTileMB":""}${c?" pp_titlesl":""}${n.isSelected&&n.isKBSelected&&!s?" sa_kb_focus":""}${sa_config.asmltline?" sa_mlti_line":""}${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),searchBoxInputElement:n.searchBoxInputElement,"aria-label":n.suggestion.q+`${h?", Search History":""}`},!t.im||t.im.trim()===""?preact.h(r.LeftIcon,{type:1}):preact.h("div",{"class":"sa_sg_icon_area"},preact.h("div",{"class":"cico"},preact.h("img",{"class":"sa_ent_img",height:"30",width:"30",src:`${t.im}`,role:"presentation"}))),c&&preact.h("span",{"class":"sa_tm"},preact.h("span",{"class":o?"pp_title pp_titlesl":"pp_title pp_titleOnly pp_titlesl"},preact.h("span",{dangerouslySetInnerHTML:{__html:(a=i.convertHighlightedQueryToHtml(t.t))!==null&&a!==void 0?a:n.suggestion.hq||""}})),o&&preact.h("span",{"class":`b_sideText`}," · "),o&&preact.h("span",{"class":`b_sideText${k?" b_sideTextSmall":""}`,"data-applinkhookid":"demoteText"},t.des2&&preact.h(preact.Fragment,null,i.getCamelCase(t.des2),"·"),i.getCamelCase(t.des))),!c&&preact.h("div",{"class":"sa_tm"},preact.h("div",{"class":o?"pp_title":"pp_title pp_titleOnly"},preact.h("div",{dangerouslySetInnerHTML:{__html:(v=i.convertHighlightedQueryToHtml(t.t))!==null&&v!==void 0?v:n.suggestion.hq||""}})),o&&preact.h("div",{"class":"b_demoteText b_sectxt","data-applinkhookid":"demoteText"},t.des2&&preact.h(preact.Fragment,null,t.des2,"·"),t.des))),preact.h(u.RemoveButton,{query:n.suggestion.q,url:n.suggestion.u,id:n.suggestion.id,isMobile:!1,onDeleteFunc:n.onDeleteFunc,index:n.suggestion.originalIndex,searchBoxInputElement:n.searchBoxInputElement})):preact.h("li",{"class":`pp_tile pp_sTile ${h?" pp_sTileHS":""}${s?" pp_sTileMB":""}${c?" pp_titlesl":""}${n.isSelected?" sa_hv":""} sa_blue_hv  ${n.isSelected&&n.isKBSelected&&!s?" sa_kb_focus":""} ${sa_config.asmltline?" sa_mlti_line":""}${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}${sa_config.astoptn&&n.suggestion.bt==="PN"&&n.suggestion.originalIndex<2?" sa_top_tn_color":""}${w?" sa_sg_corner_icon_margin_top":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>{if(sa_config.selectEntity){const t=`{ "q": "${n.suggestion.q}", "t": "${n.suggestion.t}" }`;Log&&Log.Log&&Log.Log("selectEntSug","AS","EASEInst",!1,"CustomData",t)}return n.onMouseOverFunc(n.suggestion.originalIndex)},role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q+`${h?", Search History":""}`},n.isMobile&&(h&&n.enableRemoveHistory&&n.onDeleteFunc?preact.h(u.RemoveButton,{query:n.suggestion.q,url:n.suggestion.u,id:n.suggestion.id,isMobile:!0,onDeleteFunc:n.onDeleteFunc,index:n.suggestion.originalIndex}):preact.h(e.QueryBuilderButton,{query:n.suggestion.q,id:n.suggestion.id+"_qb"})),s?preact.h("div",{"class":"zi_sseimg","aria-hidden":"true"},preact.h("img",{src:t.im,width:"80",title:n.suggestion.q,"data-priority":"2",alt:n.suggestion.q,"class":"ent_img pico shadows"}),preact.h("div",{"class":"sa_zi_text"},n.suggestion.q),o&&preact.h("div",{"class":"b_entitytxt","data-applinkhookid":"demoteText"},t.des2&&preact.h(preact.Fragment,null,t.des2,"·"),t.des)):n.isMobile?w&&(!t.im||t.im.trim()==="")?preact.h(r.LeftIcon,{type:1}):preact.h("div",{"class":"sa_sg_icon_area"},preact.h("div",{"class":"cico"},preact.h("img",{"class":"sa_ent_img",src:`${t.im}`,role:"presentation"}))):w&&(!t.im||t.im.trim()==="")?preact.h(r.LeftIcon,{type:1}):preact.h("div",{"class":"sa_sg_icon_area"},preact.h("div",{"class":"cico"},preact.h("img",{"class":"sa_ent_img",height:"30",width:"30",src:`${t.im}`,role:"presentation"}))),!s&&c&&preact.h("span",{"class":`sa_tm${b?" an_sa_tm":""}`},preact.h("span",{"class":o?"pp_title pp_titlesl":"pp_title pp_titleOnly pp_titlesl"},preact.h("span",{dangerouslySetInnerHTML:{__html:(y=i.convertHighlightedQueryToHtml(t.t))!==null&&y!==void 0?y:n.suggestion.hq||""}})),o&&preact.h("span",{"class":`b_sideText`}," · "),o&&preact.h("span",{"class":`b_sideText${k?" b_sideTextSmall":""}`,"data-applinkhookid":"demoteText"},t.des2&&preact.h(preact.Fragment,null,i.getCamelCase(t.des2),"·"),i.getCamelCase(t.des))),!s&&!c&&preact.h("div",{"class":`sa_tm${b?" an_sa_tm":""}`},preact.h("div",{"class":o?"pp_title":"pp_title pp_titleOnly"},preact.h("div",{dangerouslySetInnerHTML:{__html:(p=i.convertHighlightedQueryToHtml(t.t))!==null&&p!==void 0?p:n.suggestion.hq||""}})),o&&preact.h("div",{"class":"b_demoteText b_sectxt","data-applinkhookid":"demoteText"},t.des2&&preact.h(preact.Fragment,null,t.des2,"·"),t.des)),b&&preact.h(f.AnnotationIcon,{isEntity:!0,type:0}),h&&n.enableRemoveHistory&&n.onDeleteFunc&&!n.isMobile&&preact.h(u.RemoveButton,{query:n.suggestion.q,url:n.suggestion.u,id:n.suggestion.id,isMobile:!1,onDeleteFunc:n.onDeleteFunc,index:n.suggestion.originalIndex}))};t.EntitySuggestion=o});define("Components/Suggestions/WeatherSuggestion",["require","exports","Utilities/SuggestionUtilities"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WeatherSuggestion=void 0;const r=n=>{var r;const t=n.suggestion.ext,[u,f]=((r=t===null||t===void 0?void 0:t.des)===null||r===void 0?void 0:r.split("   "))||["",""];return preact.h("li",{"class":`pp_tile richans_wa${n.isSelected?" sa_hv":""}${n.isSelected&&n.isKBSelected?" sa_kb_focus":""} sa_blue_hv${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.suggestion.originalIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":(t===null||t===void 0?void 0:t.tem)+" "+(t===null||t===void 0?void 0:t.des)},preact.h("div",{"class":"sa_ppContainer","aria-hidden":"true"},preact.h("div",{"class":"sa_ans"},preact.h("span",{"class":"smallerAnswerStandardText"},preact.h("span",{"class":"smallerAnswerSvgIcon"},preact.h("img",{height:"17",width:"17",src:t===null||t===void 0?void 0:t.im,role:"presentation"})),preact.h("span",{"class":"smallerAnswerTitle"},t===null||t===void 0?void 0:t.tem),preact.h("span",{"class":"smallerAnswerMetadata"},u),preact.h("span",{"class":"smallerAnswerMetadata"},f)))))};t.WeatherSuggestion=r});define("Components/Suggestions/FinanceSuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FinanceSuggestion=void 0;const u=n=>{return(n===null||n===void 0?void 0:n.startsWith("+"))?"▲"+n.replace(/\+/g,""):"▼"+n},f=n=>{var f;const t=n.suggestion.ext;let e=t.valdif&&u(t.valdif),o=((f=t.valdif)===null||f===void 0?void 0:f.startsWith("+"))?"b_posText":"b_negText";return preact.h("li",{"class":`pp_tile richans_fn${n.isSelected?" sa_hv":""}${n.isSelected&&n.isKBSelected?" sa_kb_focus":""} sa_blue_hv${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.suggestion.originalIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":`${t.val} ${e} ${t.co}`},preact.h("div",{"class":"sa_ppContainer","aria-hidden":"true"},preact.h(r.LeftIcon,{type:1}),preact.h("div",{"class":"sa_ans"},preact.h("span",{"class":"smallerAnswerStandardText"},preact.h("span",null,t.val),preact.h("span",{"class":"smallerAnswerTitle smallerAnswerMetadata "+o},e),preact.h("span",{"class":"smallerAnswerMetadata"},t.co)))))};t.FinanceSuggestion=f});define("Components/Suggestions/UnitConversionSuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UnitConversionSuggestion=void 0;const u=n=>{var u;const t=n.suggestion.ext,[f,e]=((u=t===null||t===void 0?void 0:t.des)===null||u===void 0?void 0:u.split(" = "))||["",""];return preact.h("li",{"class":`pp_tile richans_all${n.isSelected?" sa_hv":""}${n.isSelected&&n.isKBSelected?" sa_kb_focus":""} sa_blue_hv${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.suggestion.originalIndex),id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,role:"option",h:i.getHValueFromId(n.suggestion.id),"aria-label":t===null||t===void 0?void 0:t.des},preact.h("div",{"class":"sa_ppContainer","aria-hidden":"true"},preact.h(r.LeftIcon,{type:1}),preact.h("div",{"class":"sa_ans"},preact.h("span",{"class":"smallerAnswerStandardText"},preact.h("span",null,f," ",preact.h("strong",null," = ",e))),preact.h("div",{"class":"sa_tm"},n.suggestion.q))))};t.UnitConversionSuggestion=u});define("Components/Suggestions/CurrencySuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CurrencySuggestion=void 0;const u=n=>{var u;const t=n.suggestion.ext,[f,e]=((u=t===null||t===void 0?void 0:t.des)===null||u===void 0?void 0:u.split(" = "))||["",""];return preact.h("li",{"class":`pp_tile richans_all${n.isSelected?" sa_hv":""}${n.isSelected&&n.isKBSelected?" sa_kb_focus":""} sa_blue_hv${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.suggestion.originalIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":t===null||t===void 0?void 0:t.des},preact.h("div",{"class":"sa_ppContainer","aria-hidden":"true"},preact.h(r.LeftIcon,{type:1}),preact.h("div",{"class":"sa_ans"},preact.h("span",{"class":"smallerAnswerStandardText"},preact.h("span",null,f," ",preact.h("strong",null," = ",e))),preact.h("div",{"class":"sa_tm"},n.suggestion.q))))};t.CurrencySuggestion=u});define("Components/Suggestions/MITBanner",["require","exports","Utilities/SuggestionUtilities"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MITBanner=void 0;const r=n=>{var r;const t=n.suggestion.ext,u=t.des&&t.des!=="";return preact.h("li",{"class":`sa_mit_sug pp_tile pp_sTile${n.suggestion.originalIndex!==0?" mit_not_top":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>{if(sa_config.selectEntity){const t=`{ "q": "${n.suggestion.q}", "t": "${n.suggestion.t}" }`;Log&&Log.Log&&Log.Log("selectEntSug","AS","EASEInst",!1,"CustomData",t)}return n.onMouseOverFunc(n.suggestion.originalIndex)},role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q},preact.h("div",{"class":`mit_sub ${n.isSelected?" sa_hv":""} sa_blue_hv${sa_config.fontdecr?" sa_font_decr":""}`},preact.h("div",{"class":"sa_sg_icon_area"},preact.h("div",{"class":"cico"},preact.h("img",{"class":"sa_ent_img",height:"30",width:"30",src:`${t.im}`,role:"presentation"}))),preact.h("div",{"class":`sa_tm`},preact.h("div",{"class":u?"pp_title":"pp_title pp_titleOnly"},preact.h("div",{dangerouslySetInnerHTML:{__html:(r=i.convertHighlightedQueryToHtml(t.t))!==null&&r!==void 0?r:n.suggestion.hq||""}})),u&&preact.h("div",{"class":"b_demoteText b_sectxt","data-applinkhookid":"demoteText"},t.des))))};t.MITBanner=r});define("Components/Suggestions/SpotlightBanner",["require","exports","Utilities/SuggestionUtilities"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SpotlightBanner=void 0;const r=n=>{const t=document.getElementsByClassName("bg-wp-desc-text");return preact.h("li",{"class":`sa_spb pp_tile pp_sTile${n.suggestion.originalIndex!==0?" spb_not_top":""}`,onMouseUp:()=>{n.onClickFunc(n.suggestion)},onMouseOver:()=>{n.onMouseOverFunc(n.suggestion.originalIndex)},role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q},preact.h("div",{id:"sa_spb","class":`sa_spb_sub${n.isSelected?" sa_hv":""} sa_blue_hv`},preact.h("div",{"class":"spotlight_icon sa_sg_icon_area"}),preact.h("div",{"class":"spb_text"},t.length>0&&t[0].innerText||sa_loc.SpotlightBannerText),preact.h("div",{id:"spb_download_button",role:"button"},preact.h("div",{"class":"download_icon"}),preact.h("div",{id:"download_text"},sa_loc.DownloadBWA))))};t.SpotlightBanner=r});define("Components/Suggestions/AIToolsBanner",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AIToolsBanner=void 0;const u=n=>{let t=3;return n.suggestion.id==="sa_19999"&&(t=4),preact.h("li",{"class":`sa_sg ${n.isSelected?" sa_hv":""} sa_blue_hv ${n.isSelected&&n.isKBSelected?" sa_kb_focus":""}`,onMouseUp:()=>{n.onClickFunc(n.suggestion)},onMouseOver:()=>{n.onMouseOverFunc(n.suggestion.originalIndex)},role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,ghtxt:n.suggestion.g,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q},preact.h("div",{"class":"ait-sub"},preact.h(r.LeftIcon,{type:t}),n.suggestion.q))};t.AIToolsBanner=u});define("Constants/MITConstants",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MITBannerSuggestionType=t.MITDataSourceType=void 0;t.MITDataSourceType="WEBMITEXP";t.MITBannerSuggestionType="MITB"});define("Components/SuggestionBlocks/WebSuggestions",["require","exports","Components/Suggestions/RegularSuggestion","Components/Suggestions/AlphaSuggestion","Components/Suggestions/EntitySuggestion","Components/Suggestions/WeatherSuggestion","Components/Suggestions/FinanceSuggestion","Components/Suggestions/UnitConversionSuggestion","Components/Suggestions/CurrencySuggestion","Components/Suggestions/MITBanner","Components/Suggestions/SpotlightBanner","Components/Suggestions/AIToolsBanner","Constants/MITConstants","Types/CoreTypes"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WebSuggestions=void 0;const y=n=>{const nt=function(){sa_config&&sa_config.asTrendingClick&&window.open("/search?q="+sa_loc.H_TNOB+"&form=astncl","_blank")},b=sa_config&&sa_config.isCST1,y=preactHooks.useRef([]),k=preactHooks.useRef(0),tt=n=>{n&&y.current.push(n)},d=preactHooks.useMemo(()=>{if(n.id!=="sa_pn_block")return!1;const t=n.suggestions||[];return t.length>0&&!!t[0].ps},[n.suggestions,n.id]),[t,w]=preactHooks.useState(!1),g=preactHooks.useRef(null),p=preactHooks.useRef(null);preactHooks.useEffect(()=>{!d&&t&&w(!1)},[d,t]);preactHooks.useEffect(()=>{if(!t)return undefined;const n=n=>{var t,i;const r=n.target;((t=g.current)===null||t===void 0?void 0:t.contains(r))||((i=p.current)===null||i===void 0?void 0:i.contains(r))||w(!1)},i=n=>{var t;n.key==="Escape"&&(w(!1),(t=g.current)===null||t===void 0?void 0:t.focus())};return document.addEventListener("pointerdown",n,!0),document.addEventListener("keydown",i),()=>{document.removeEventListener("pointerdown",n,!0),document.removeEventListener("keydown",i)}},[t]);preactHooks.useEffect(()=>{if(t&&p.current){const n=p.current.querySelector("a");(n||p.current).focus()}},[t]);preactHooks.useEffect(()=>{if(b&&v.instTracker&&k.current==n.suggestions.length-1){let t=document.querySelector(".sa_as");t&&y.current.length>0&&v.instTracker&&(v.instTracker.dataSourceSerializer.serializeItemsToJson(y.current,{T:"D.Suggestions",SC:y.current.length}),v.instTracker.writeLayoutFromElement(t),v.instTracker.flushInstrumentation(n.ig));k.current=0;y.current=[]}},[n.prefix]);const it=n=>{n.stopPropagation(),w(n=>!n)};return preact.h("div",{id:n.id},n.heading&&preact.h("div",{"class":"sa_hd",id:n.heading},preact.h("h2",{"class":sa_config&&sa_config.asTrendingClick&&n.id=="sa_pn_block"?"asSectionHeading trending_click":"asSectionHeading",onClick:sa_config&&sa_config.asTrendingClick&&n.id=="sa_pn_block"?nt:()=>{}},n.heading),sa_config&&sa_config.showib&&d&&n.id==="sa_pn_block"&&preact.h("div",{"class":"asInfoWrapper"},preact.h("button",{ref:g,type:"button","class":"asInfoBtn sa-tn-person","aria-label":"About personalized trending searches","aria-expanded":t?"true":"false","aria-controls":t?"tn_infoBubble":undefined,onClick:it}),t&&preact.h("div",{ref:p,id:"tn_infoBubble",role:"tooltip","class":"infobubble",tabIndex:-1},preact.h("div",{"class":"infobubble-content"},sa_loc&&sa_loc.Personalized_TN?sa_loc.Personalized_TN:"Personalized based on your interests. To manage,"," ",preact.h("a",{href:"/account/general"},"click here"))))),preact.h("ul",{"class":`${(sa_config.isZiHorLayout||sa_config.isZiHorLayoutPNCombined||sa_config.isZiHorLayoutCombinedTreatment)&&n.isHorizontalLayout&&n.heading==="Related to recent searches"?"zi_rich_horizon":""}`,role:"listbox","aria-label":n.heading||"Suggestions"},n.suggestions.filter(n=>n.q!==undefined).map((t,v)=>{k.current=v;switch(t.t){case"CM":return t.ext?preact.h(r.AlphaSuggestion,{suggestion:t,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isKBSelected:n.isKBSelected===!0}):preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"HS":return preact.h(i.RegularSuggestion,{suggestion:t,iconType:2,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,onDeleteFunc:n.onDeleteFunc,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"ASGP":return preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,onDeleteFunc:n.onDeleteFunc,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"MIT":case"PN":return preact.h(i.RegularSuggestion,{suggestion:t,iconType:0,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"WA":return t.ext?preact.h(f.WeatherSuggestion,{suggestion:t,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isKBSelected:n.isKBSelected===!0}):preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"FN":return t.ext?preact.h(e.FinanceSuggestion,{suggestion:t,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isKBSelected:n.isKBSelected===!0}):preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"AM":case"LSE":case"MB":return t.ext?t.bt===a.MITBannerSuggestionType?preact.h(h.MITBanner,{suggestion:t,isMobile:n.isMobile,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,onDeleteFunc:n.onDeleteFunc,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement}):preact.h(u.EntitySuggestion,{suggestion:t,isMobile:n.isMobile,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,onDeleteFunc:n.onDeleteFunc,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0,isHorizontalLayout:n.isHorizontalLayout}):preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"UC":return t.ext?preact.h(o.UnitConversionSuggestion,{suggestion:t,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isKBSelected:n.isKBSelected===!0}):preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"CA":return t.ext?preact.h(s.CurrencySuggestion,{suggestion:t,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isKBSelected:n.isKBSelected===!0}):preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0});case"SPB":return preact.h(c.SpotlightBanner,{suggestion:t,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc});case"AIT":return preact.h(l.AIToolsBanner,{suggestion:t,isSelected:t.originalIndex===n.selectedSuggestionIndex,isKBSelected:n.isKBSelected===!0,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc});default:return n.isHorizontalLayout&&t.t==="SSE"&&(sa_config.isZiHorLayout||sa_config.isZiHorLayoutPNCombined||sa_config.isZiHorLayoutCombinedTreatment)?null:preact.h(i.RegularSuggestion,{suggestion:t,iconType:1,isSelected:t.originalIndex===n.selectedSuggestionIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isMobile:n.isMobile,enableRemoveHistory:n.enableRemoveHistory,searchBoxInputElement:n.searchBoxInputElement,isKBSelected:n.isKBSelected===!0,onRender:b?tt:undefined,ig:b?n.ig:undefined,prefix:n.prefix||""})}})))};t.WebSuggestions=y});define("Constants/EASEConstants",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EASE_SUGGESTION_INDEX=t.EASEDataSourceType=void 0;t.EASEDataSourceType="WEBEXP";t.EASE_SUGGESTION_INDEX=0});define("Utilities/EASEUtilsOpt",["require","exports","Constants/EASEConstants"],function(n,t,i){"use strict";function r(n,r){var u,f;if(t.easeSuggestions=[],n.enableEASE&&r!==undefined&&!(r.length<=0))for(let n=0;n<r.length;n++){let o=r[n];t.easeSuggestions[n]={easeSuggestion:[],feedbackData:[]};let e=o.ext,s=i.EASE_SUGGESTION_INDEX;e!==null&&e!==undefined&&(((u=e.ECS)===null||u===void 0?void 0:u.length)||0)>0&&((f=e.ECS)===null||f===void 0?void 0:f.forEach(i=>{if(i.q!==o.q){let r=Object.assign({},i);r.q=o.hq+" - "+r.q.toLowerCase();t.easeSuggestions[n].feedbackData.push(r)}i.originalIndex=s++;t.easeSuggestions[n].easeSuggestion.push(i)}))}}function u(n){return n=="Square"?"rc_square":n=="Tall"?"rc_tall":n=="Wide"?"rc_wide":"rc_square"}Object.defineProperty(t,"__esModule",{value:!0});t.getRcClass=t.getEASESection=void 0;t.getEASESection=r;t.getRcClass=u});define("Components/Suggestions/RichCardSuggestion",["require","exports","Utilities/EASEUtilsOpt","Utilities/SuggestionUtilities"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RichCardSuggestion=void 0;const u=n=>{var u;const t=n.suggestion.ext,f=i.getRcClass(t.imrat);return preact.h("ul",{id:"rich_card",role:"tablist","aria-label":n.suggestion.q,tabindex:"0"},preact.h("li",{"class":`as_rich_cd ${n.isSelected?" sa_hv":""}${n.isSelected&&n.isKBSelected?" sa_kb_focus":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.index,n.dsIndex),role:"tab",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,h:r.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q,sType:n.suggestion.t},preact.h("div",{id:"sa_rc_txt","class":f},preact.h("div",{"class":"sa_tm","aria-hidden":"true"},preact.h("div",{"class":"sa_tm_mainText sa_tm_rich"},(u=r.convertHighlightedQueryToPlainQuery(t.t))!==null&&u!==void 0?u:n.suggestion.hq),preact.h("div",{"class":"sa_tm_subText"},t.des)),preact.h("div",{"class":"SeeMore","aria-hidden":"true"},preact.h("a",null,"See more"),preact.h("div",{"class":"seeMoreIcon"}))),preact.h("div",{"class":`sa_sg_icon_area ${f}`,"aria-hidden":"true"},preact.h("div",{"class":"cico"},preact.h("img",{src:t.im,role:"presentation",alt:n.suggestion.q})))))};t.RichCardSuggestion=u});define("Components/Suggestions/PillSuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PillSuggestion=void 0;const u=n=>preact.h("li",{"class":`${sa_config.easeSuggs?"sa_sgr ":""}${n.isSelected?"sa_hv":""}${n.isSelected&&n.isKBSelected?" sa_kb_focus":""}`,onMouseUp:t=>{n.onClickFunc(n.suggestion,t)},onMouseOver:()=>n.onMouseOverFunc(n.index,n.dsIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q},sa_config.easeSuggs?preact.h(preact.Fragment,null,preact.h(r.LeftIcon,{type:1}),preact.h("div",{"class":"sa_tm_rs","aria-hidden":"true"},preact.h("span",{dangerouslySetInnerHTML:{__html:`${n.suggestion.hq||n.suggestion.q}`}}))):preact.h("div",{"class":"sa_tm","aria-hidden":"true"},n.suggestion.q));t.PillSuggestion=u});define("Components/Suggestions/EaseSuggestion",["require","exports","Components/Suggestions/RichCardSuggestion","Components/Suggestions/PillSuggestion","Utilities/SuggestionUtilities"],function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EaseSuggestion=void 0;const f=n=>{var e,o,s,h;const f=n.easeSuggestions[0],c=n.easeSuggestions.filter(n=>n!==f),t=(e=f.ext)!==null&&e!==void 0?e:null;return preact.h("div",{"class":"sa_expand"},n.easeSuggestions.filter((n,t)=>n.q!==undefined&&t==0).map((t,r)=>preact.h(i.RichCardSuggestion,{suggestion:t,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isSelected:r===n.selectedSuggestionIndex&&n.dsIndex===n.selectedSuggestionTypeIndex,index:r,dsIndex:n.dsIndex,isKBSelected:n.isKBSelected})),n.easeSuggestions.length>1&&preact.h("div",{"class":"sa_ease_hd"},preact.h("h2",{"class":"ease_heading"},(sa_loc===null||sa_loc===void 0?void 0:sa_loc.MoreAbout)||"More About",' "',preact.h("span",{dangerouslySetInnerHTML:{__html:(o=u.convertHighlightedQueryToHtml(t===null||t===void 0?void 0:t.t))!==null&&o!==void 0?o:f.q}}),'"')),n.easeSuggestions.length>1&&preact.h("ul",{id:"sa_exp_sug","class":`${sa_config.easeSuggs?"ease_rs ":""}`,role:"listbox","aria-label":"More About "+`${f.q}`},u.getHighlightedSuggestions((s=u.convertHighlightedQueryToPlainQuery(t===null||t===void 0?void 0:t.t))!==null&&s!==void 0?s:f.q,c,(h=sa_config.easeSuggs)!==null&&h!==void 0?h:!1).filter(n=>n.q!==undefined).map((t,i)=>preact.h(r.PillSuggestion,{suggestion:t,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isSelected:i+1===n.selectedSuggestionIndex&&n.dsIndex===n.selectedSuggestionTypeIndex,index:i+1,dsIndex:n.dsIndex,isKBSelected:n.isKBSelected}))))};t.EaseSuggestion=f});define("Components/Suggestions/RSSuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RSSuggestion=void 0;const u=n=>preact.h("li",{"class":`sa_sgr ${n.isSelected?" sa_hv":""} sa_blue_hv${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:()=>{n.onClickFunc(n.suggestion)},onMouseOver:()=>n.onMouseOverFunc(n.index,n.dsIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q},preact.h(r.LeftIcon,{type:1}),preact.h("div",{"class":"sa_tm_rs","aria-hidden":"true"},preact.h("span",{dangerouslySetInnerHTML:{__html:`${n.suggestion.hq||n.suggestion.q}`}})));t.RSSuggestion=u});define("Components/SuggestionBlocks/MITBannerRightSuggestions",["require","exports","Components/Suggestions/RSSuggestion"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MITBannerRightSuggestions=void 0;const r=n=>preact.h("div",{"class":"sa_mit_expand"},preact.h("h2",{"class":"rs_tx"},`RELATED TO "${n.eventName}"`),preact.h("ul",{id:"sa_mit_exp_sug",role:"listbox"},n.mitSuggestions.filter(n=>n.q!==undefined).map((t,r)=>preact.h(i.RSSuggestion,{suggestion:t,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isSelected:r===n.selectedSuggestionIndex&&n.dsIndex===n.selectedSuggestionTypeIndex,index:r,dsIndex:n.dsIndex}))));t.MITBannerRightSuggestions=r});define("Components/SuggestionBlocks/WebExpSuggestions",["require","exports","Constants/EASEConstants","Constants/MITConstants","Components/Suggestions/EaseSuggestion","Components/SuggestionBlocks/MITBannerRightSuggestions"],function(n,t,i,r,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WebExpSuggestions=void 0;const e=n=>preact.h("div",{id:"sa_ease","class":sa_config.disEaseExp?"disEase":""},n.datasources.map((t,e)=>{switch(t.ds){case i.EASEDataSourceType:return preact.h(u.EaseSuggestion,{dsIndex:e,selectedSuggestionIndex:n.selectedSuggestionIndex,selectedSuggestionTypeIndex:n.selectedSuggestionTypeIndex,easeSuggestions:t.suggestions,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isKBSelected:n.isKBSelected});case r.MITDataSourceType:return n.mitEventName?preact.h(f.MITBannerRightSuggestions,{dsIndex:e,eventName:n.mitEventName,selectedSuggestionIndex:n.selectedSuggestionIndex,selectedSuggestionTypeIndex:n.selectedSuggestionTypeIndex,mitSuggestions:t.suggestions,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc}):null;default:return null}}));t.WebExpSuggestions=e});define("Constants/RichRequeryConstants",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})});define("Components/Suggestions/PAASuggestion",["require","exports","Utilities/SuggestionUtilities","Components/Core/LeftIcon/LeftIcon"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAASuggestion=void 0;const u=n=>preact.h("li",{"class":`sa_sgr ${n.isSelected?" sa_hv":""} sa_blue_hv${sa_config.asicondecr?" sa_icondecr":""}${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:()=>{n.onClickFunc(n.suggestion)},onMouseOver:()=>n.onMouseOverFunc(n.index,n.dsIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q},preact.h(r.LeftIcon,{type:1}),preact.h("div",{"class":"sa_tm_paa"},preact.h("span",{dangerouslySetInnerHTML:{__html:`${n.suggestion.hq}`}})));t.PAASuggestion=u});define("Components/SuggestionBlocks/PAASuggestions",["require","exports","Components/Suggestions/PAASuggestion"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAASuggestions=void 0;const r=n=>preact.h("div",{id:"paa_ul"},preact.h("h2",{"class":"paa_tx"},(sa_loc===null||sa_loc===void 0?void 0:sa_loc.PeopleAlsoAsk)||"People Also Ask"),preact.h("ul",{role:"listbox","aria-label":"Suggestions"},n.paaSuggestions.map((t,r)=>preact.h(i.PAASuggestion,{index:r,suggestion:t,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isSelected:r===n.selectedSuggestionIndex&&n.dsIndex===n.selectedSuggestionTypeIndex,dsIndex:n.dsIndex}))));t.PAASuggestions=r});define("Components/SuggestionBlocks/RSSuggestions",["require","exports","Components/Suggestions/RSSuggestion"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RSSuggestions=void 0;const r=n=>preact.h("div",{id:"rs_ul"},preact.h("h2",{"class":"rs_tx"},(sa_loc===null||sa_loc===void 0?void 0:sa_loc.RelatedSearches)||"Related Searches"),preact.h("ul",{id:"rs_rich_drw","class":"rs_drw",role:"listbox","aria-label":"Suggestions"},n.rsSuggestions.map((t,r)=>preact.h(i.RSSuggestion,{suggestion:t,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isSelected:r===n.selectedSuggestionIndex&&n.dsIndex===n.selectedSuggestionTypeIndex,index:r,dsIndex:n.dsIndex}))));t.RSSuggestions=r});define("Components/Suggestions/PASFSuggestion",["require","exports","Utilities/SuggestionUtilities"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PASFSuggestion=void 0;const r=n=>{const t=n.suggestion.ext;return preact.h("li",{"class":`sa_sg_pasf ${n.isSelected?" sa_hv":""} sa_blue_hv${sa_config.fontdecr?" sa_font_decr":""}`,onMouseUp:()=>{n.onClickFunc(n.suggestion)},onMouseOver:()=>n.onMouseOverFunc(n.index,n.dsIndex),role:"option",id:n.suggestion.id,url:n.suggestion.u,query:n.suggestion.q,stype:n.suggestion.t,h:i.getHValueFromId(n.suggestion.id),"aria-label":n.suggestion.q},preact.h("div",{"class":"sa_img","aria-hidden":"true"},preact.h("img",{src:t.im,width:"80",title:n.suggestion.q,"data-priority":"2",alt:n.suggestion.q,"class":"rms_img cico shadow"}),preact.h("div",{"class":"sa_pasf_text"},n.suggestion.q)))};t.PASFSuggestion=r});define("Components/SuggestionBlocks/PASFSuggestions",["require","exports","Components/Suggestions/PASFSuggestion"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PASFSuggestions=void 0;const r=n=>preact.h("div",{id:"pasf_ul"},preact.h("h2",{"class":"pasf_tx"},(sa_loc===null||sa_loc===void 0?void 0:sa_loc.PeopleAlsoSearchFor)||"People Also Search For"),preact.h("ul",{"class":"pasf_rich_drw",role:"listbox","aria-label":"Suggestions"},n.pasfSuggestions.map((t,r)=>preact.h(i.PASFSuggestion,{index:r,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,isSelected:r===n.selectedSuggestionIndex&&n.dsIndex===n.selectedSuggestionTypeIndex,suggestion:t,dsIndex:n.dsIndex}))));t.PASFSuggestions=r});define("Components/SuggestionBlocks/RichRequerySuggestions",["require","exports","Components/SuggestionBlocks/PAASuggestions","Components/SuggestionBlocks/RSSuggestions","Components/SuggestionBlocks/PASFSuggestions"],function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RichRequerySuggestions=void 0;const f=n=>{const t=sa_config.enableEASE?"sa_ease_rr":"sa_rr";return preact.h("div",{id:"sa_requery","class":t},n.datasources.map((t,f)=>{switch(t.ds){case"RS":return preact.h(r.RSSuggestions,{dsIndex:f,selectedSuggestionIndex:n.selectedSuggestionIndex,selectedSuggestionTypeIndex:n.selectedSuggestionTypeIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,rsSuggestions:t.suggestions});case"PASF":return preact.h(u.PASFSuggestions,{dsIndex:f,selectedSuggestionIndex:n.selectedSuggestionIndex,selectedSuggestionTypeIndex:n.selectedSuggestionTypeIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,pasfSuggestions:t.suggestions});case"PAA":return preact.h(i.PAASuggestions,{dsIndex:f,selectedSuggestionIndex:n.selectedSuggestionIndex,selectedSuggestionTypeIndex:n.selectedSuggestionTypeIndex,onClickFunc:n.onClickFunc,onMouseOverFunc:n.onMouseOverFunc,paaSuggestions:t.suggestions});default:return null}}))};t.RichRequerySuggestions=f});define("Components/Banners/InPrivateBanner",["require","exports","Components/Banners/Constants"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InPrivateBanner=void 0;const r=n=>{var t;const r=((t=sa_loc.BingPrivate)===null||t===void 0?void 0:t.split("%e")[0])||(n.isMobile?i.PrivateBannerMobileDefaultText:i.PrivateBannerDefaultText);return preact.h("div",{id:i.bannerId,"class":"as_bpr as_banner as_bprtxt"},r,preact.h("a",{id:i.linkId,href:i.PrivateSearchUrl,_ctf:"rdr_T",tabindex:"0",h:n.hValue,"class":"as_bannertxt"},sa_loc.PrivateSearch||i.PrivateBannerLinkDefaultLabel))};t.InPrivateBanner=r});define("Components/Banners/ManageHistoryBanner",["require","exports","Components/Banners/Constants"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ManageHistoryBanner=void 0;const r=n=>{const t=sa_loc.ManageHistory?sa_loc.ManageHistory.slice(2,-2):i.ManageHistoryDefaultLabel;return preact.h("div",{id:i.bannerId,"class":"as_rmhswarning as_banner out_fd_side"},preact.h("a",{target:"_blank","class":"as_rmhswarningtxt as_bannertxt",id:i.linkId,href:i.ManageHistoryUrl,h:n.hValue,tabindex:"0"},t))};t.ManageHistoryBanner=r});define("Utilities/SearchBoxUtilities",["require","exports"],function(n,t){"use strict";function o(n,t){n&&n.classList.add(i);t&&t.classList.add(i)}function s(n,t){n&&n.classList.remove(i);t&&t.classList.remove(i)}function h(n){n&&n.classList.add(f)}function c(n){let i=document.getElementById("sw_as"),t="";if(n&&(t+="as_hvrbgbr4"),i){const n=i.querySelector(".sa_as");t?n===null||n===void 0?void 0:n.classList.add(u,t):n===null||n===void 0?void 0:n.classList.add(u)}}function l(n){n&&n.classList.add(r)}function a(n){n&&n.classList.remove(r)}Object.defineProperty(t,"__esModule",{value:!0});t.fireFeedbackEvents=t.fireNoSuggestionsEvents=t.removeSBRoundingClassNames=t.addSBRoundingClassNames=t.addSBBackgroundHoverClassNames=t.addSBBoxShadowClassNames=t.removeSBExpansionClassNames=t.addSBExpansionClassNames=t.fireSuggestionsEvents=void 0;const i="as_rsform",f="as_shadow",r="as_show",u="as_hvrbgbr",e=(n,t,i,r,u,f)=>{var e;sj_evt.fire("AS.Canvas.Show");(e=_w.sa_inst)===null||e===void 0?void 0:e.setData(y(u));_w.sa_active_sb||(_w.sa_active_sb={setData:function(n){this.data=n}});_w.sa_active_sb.setData(f||"");sj_evt.fire("AS.CsrSuggestionsRendered",i===null||i===void 0?void 0:i.toLowerCase(),t,n,r,u)};t.fireSuggestionsEvents=e;t.addSBExpansionClassNames=o;t.removeSBExpansionClassNames=s;t.addSBBoxShadowClassNames=h;t.addSBBackgroundHoverClassNames=c;t.addSBRoundingClassNames=l;t.removeSBRoundingClassNames=a;const v=n=>{sj_evt.fire("AS.Canvas.Hide"),sj_evt.fire("AS.CsrNoSuggestionRendered",n===null||n===void 0?void 0:n.toLowerCase())};t.fireNoSuggestionsEvents=v;const y=n=>({Inst:{IG:n||""}}),p=n=>{sj_evt.fire("AS.CsrFeedbackRendered",n)};t.fireFeedbackEvents=p});define("Utilities/ExtendedSuggestionUtilities",["require","exports","Constants/MITConstants","Types/SuggestionTypes"],function(n,t,i,r){"use strict";function f(n){let i=0,r=0,u=0;if(n===undefined||n.length<=0){t.MbAndSseZiSuggestionsCount=0;t.PnAndSseZiSuggestionsCount=0;t.HSSuggestionsCount=0;return}for(let t=0;t<n.length;t++){let f=n[t];f.t==="MB"&&f.bt==="SSE"&&i++;(f.t=="PN"||f.bt=="PN")&&r++;(f.t==="HS"||f.bt==="HS")&&u++}t.MbAndSseZiSuggestionsCount=i;t.PnAndSseZiSuggestionsCount=r;t.HSSuggestionsCount=u}function e(n){const i=n.filter(n=>n.t==="MB"&&n.bt==="SSE"),r=n.filter(n=>n.t!=="SSE");let t=r;if(i.length>8){const n=i.slice(0,8),r=t.filter(n=>!(n.t==="MB"&&n.bt==="SSE"));t=[...n,...r]}return t=t.map((n,t)=>Object.assign(Object.assign({},n),{originalIndex:t}))}Object.defineProperty(t,"__esModule",{value:!0});t.createSuggestionBlockEase=t.getNextSelectedSuggestion=t.getSearchBoxExpansionValueOpt=t.GetFilteredSuggestionList=t.MbAndSseZiSuggestionFetch=t.getSearchBoxExpansionValue=void 0;const u=(n,t,i,u,f)=>{let e=r.SuggestionExpansionType.NO_EXPANSION;switch(!0){case(t===null||t===void 0?void 0:t.length)>0&&(u===null||u===void 0?void 0:u.length)>0:e=r.SuggestionExpansionType.REQUERY_EXPANSION;break;case n.enableEASE&&i.length>0:e=r.SuggestionExpansionType.QF_EXPANSION;break;case n.enableAsPanelExpansion&&(u===null||u===void 0?void 0:u.length)==0&&f>10:e=r.SuggestionExpansionType.ZIS_EXPANSION;break;default:e=r.SuggestionExpansionType.NO_EXPANSION}return e};t.getSearchBoxExpansionValue=u;t.MbAndSseZiSuggestionFetch=f;t.GetFilteredSuggestionList=e;const o=(n,t,i,u,f)=>{let e=r.SuggestionExpansionType.NO_EXPANSION;switch(!0){case(t===null||t===void 0?void 0:t.length)>0&&(u===null||u===void 0?void 0:u.length)>0:e=r.SuggestionExpansionType.REQUERY_EXPANSION;break;case n.enableEASE&&(i===null||i===void 0?void 0:i.suggestions.length)>0:e=r.SuggestionExpansionType.QF_EXPANSION;break;case n.enableAsPanelExpansion&&(u===null||u===void 0?void 0:u.length)==0&&f>10:e=n.enablespb&&f==11?r.SuggestionExpansionType.NO_EXPANSION:r.SuggestionExpansionType.ZIS_EXPANSION;break;default:e=r.SuggestionExpansionType.NO_EXPANSION}return e};t.getSearchBoxExpansionValueOpt=o;const s=(n,t,r,u)=>{var e,f,o;switch(t){case 0:return n?n.index>0?{dataSourceIndex:n.dataSourceIndex,index:n.index-1}:r.length>1?(f=n.dataSourceIndex===0?null:n.dataSourceIndex-1,o=f?r[f].suggestions.length-1:null,u&&(n.dataSourceIndex===0&&n.index>0?(f=0,o=r[f].suggestions.length-1):n.dataSourceIndex>0&&(f=n.dataSourceIndex,o=u.bt==i.MITBannerSuggestionType?r[f].suggestions.length-1:n.index==0?1:0)),f!=null?{dataSourceIndex:f,index:o}:null):null:(e=r.length-1,u&&(e=0),{dataSourceIndex:e,index:r[e].suggestions.length-1});case 1:if(!n&&r[0].suggestions.length>0)return{dataSourceIndex:0,index:0};if(n&&r[n.dataSourceIndex].suggestions.length>n.index+1)return{dataSourceIndex:n.dataSourceIndex,index:n.index+1};if(n&&r.length>1){let t=n.dataSourceIndex+1===r.length?null:n.dataSourceIndex+1,f=0;return u&&(n.dataSourceIndex===0?t=0:(t=n.dataSourceIndex,f=u.bt==i.MITBannerSuggestionType?0:n.index==0?1:0)),t?{dataSourceIndex:t,index:f}:null}return null;case 2:if(u===null||u===undefined||n===null||n===undefined)return n;if(u)if(n.dataSourceIndex>0){if(u.bt=="MIT")return n;if(n.index>0&&n.index+1==r[n.dataSourceIndex].suggestions.length)return{dataSourceIndex:n.dataSourceIndex,index:1};if(n.index>0)return{dataSourceIndex:n.dataSourceIndex,index:n.index+1};if(n.index==0)return n}else if(n.dataSourceIndex==0)return{dataSourceIndex:n.dataSourceIndex+1,index:0};return null;case 3:if(u===null||u===undefined||n===null||n===undefined)return n;if(u)if(n.dataSourceIndex>0){if(u.bt==i.MITBannerSuggestionType){const n=r[0].suggestions.findIndex(n=>n===u);return{dataSourceIndex:0,index:n!==-1?n:0}}if(n.index==1)return{dataSourceIndex:n.dataSourceIndex,index:r[n.dataSourceIndex].suggestions.length-1};if(n.index>1)return{dataSourceIndex:n.dataSourceIndex,index:n.index-1};if(n.index==0){const n=r[0].suggestions.findIndex(n=>n===u);return{dataSourceIndex:0,index:n!==-1?n:0}}}else if(n.dataSourceIndex==0)return{dataSourceIndex:n.dataSourceIndex+1,index:0};return null;default:return null}};t.getNextSelectedSuggestion=s;const h=(n,t,i)=>{if(!n||n.length===0)return[{id:"sa_empty_block",suggestions:[]}];let c={id:"sa_hs_block",suggestions:[]},f={id:"sa_pn_block",heading:sa_loc.H_PN,suggestions:[]},e={id:"sa_sse_block",heading:sa_loc.H_SSE,suggestions:[]},o={id:"sa_ai_block",heading:sa_loc.AITools,suggestions:[]},l={id:"sa_sug_block",suggestions:[]},s=null,h=null;n.forEach((n,t)=>{switch(!0){case n.t==="HS"||n.bt==="HS":c.suggestions.push(n);break;case n.t==="PN"||n.bt==="PN"||n.t==="MIT"||n.bt==="MIT":s=s===null?t:s;f.suggestions.push(n);break;case n.t==="SSE"||n.bt==="SSE":h=h===null?t:h;e.suggestions.push(n);break;case n.t==="AIT":o.suggestions.push(n);break;default:l.suggestions.push(n)}});let u=[];return(c.suggestions.length>0&&u.push(c),(s!==null||h!==null)&&((s||-1)<(h||-1)?(o.suggestions.length>0&&u.push(o),f.suggestions.length>0&&u.push(f),e.suggestions.length>0&&u.push(e)):(e.suggestions.length>0&&u.push(e),o.suggestions.length>0&&u.push(o),f.suggestions.length>0&&u.push(f))),l.suggestions.length>0&&u.push(l),i)?u.filter(n=>n.id==="sa_pn_block"||n.id==="sa_sse_block"||n.id==="sa_ai_block"):u.filter(n=>!(t===r.SuggestionExpansionType.ZIS_EXPANSION&&(n.id==="sa_pn_block"||n.id==="sa_sse_block"||n.id==="sa_ai_block")))};t.createSuggestionBlockEase=h});define("Utilities/RequeryUtils",["require","exports","Utilities/SearchBoxUtilities"],function(n,t,i){"use strict";function d(n,t,i){let f=[];const e=et(t,n.enabledSearchTypes||[],n.maxSuggestionsToShow||[],n.prioritizePAAMinWords||3),u=i.map(n=>n.q);e.forEach(i=>{let e=[];switch(i.ds){case"RS":if(e=n.enableMRSInASRS?tt(t,t,i.maxCount,u,n.maxRSSuggLenLimitRichRequery):l(t,t,i.maxCount,u,n.maxRSSuggLenLimitRichRequery),n.enableMRSInASRSFlare){let n=r("MRS");n&&n.length>0&&typeof Log!="undefined"&&Log.LogFilterFlare&&Log.LogFilterFlare(["asmrsinrsflr"])}break;case"PAA":e=g(t,t,i.maxCount,u,n.maxPAASuggLenLimitRichRequery);break;case"PASF":e=nt(t,t,i.maxCount,u)}e.length>0&&f.push({ds:i.ds,suggestions:e})});let o=i.length;return f.forEach(n=>{n.suggestions.forEach(n=>{n.originalIndex=o++})}),f}function g(n,t,i,f,e){return u(n,t,"PAA",r("PAA"),i,5040,f,-1,e)}function l(n,t,i,f,e){return u(n,t,"RS",r("RS"),i,5020,f,e,-1)}function nt(n,t,i,f){return u(n,t,"PASF",r("PASF"),i,5060,f,-1,-1)}function tt(n,t,i,f,e){let o=r("MRS");return o&&o.length!==0?u(n,t,"RS",o,i,5020,f,e,-1):l(n,t,i,f,e)}function u(n,t,i,r,u,f,e,o=-1,h=-1){if(!r||r.length<s)return[];let v=[],c=f;const l=Math.min(r.length,u);let a=0;for(let u=0;a<l&&u<r.length;u++){let y=r[u],f=ft(i,y);if(!(e.indexOf(f)>-1)){let s=null;switch(i){case"RS":if(o>0&&f.length>o)continue;s=rt(y,c,f,n,l);break;case"PAA":if(h>0&&f.length>h)continue;s=it(c,f,n,t,l);break;case"PASF":s=ut(y,c,f,n,l)}s!==null&&(v.push(s),a++);c++}}return a>=s?v:[]}function it(n,t,i,r,u){function e(n,t){const u=n.split(" "),f=t.charAt(t.length-1),r=t.substring(0,t.length-1).split(" ");let i="";for(let n=0;n<r.length;++n)i=u.some(t=>t.localeCompare(r[n],_G.Lang,{sensitivity:"base"})==0)?`${i} ${r[n]}`:`${i} <strong>${r[n]}</strong>`;return i+f}return t.length>0?{t:"PAA",u:f(t,i,"QBRE",u,"PAA"),id:"sa_"+n.toString(),q:t,hq:e(r,t),originalIndex:n-5040}:null}function rt(n,t,i,r,u){const e=n===null||n===void 0?void 0:n.innerHTML;return{t:"RS",u:f(i,r,"QBRE",u,"RS"),id:"sa_"+t.toString(),q:i,hq:e,originalIndex:t-5020}}function ut(n,t,i,r,u){var e;if(!i||!n)return null;const o=n.getElementsByTagName("IMG"),s=o&&o[0];if(!s)return null;const h=((e=n.firstElementChild)===null||e===void 0?void 0:e.getAttribute("data-src"))||s.getAttribute("src");return h?{t:"PASF",u:f(i,r,"QBRE",u,"PASF"),id:"sa_"+t.toString(),q:i,hq:i,ext:{im:h},originalIndex:t-5060}:null}function f(n,t,i,r,u){return`/search?q=${encodeURIComponent(n)}&pq=${encodeURIComponent(t)}&cvid=${_G.IG}&FORM=${i}&qs=${u}&sc=${r}-${(t===null||t===void 0?void 0:t.length)||0}`}function ft(n,t){var r,u;let i;switch(n){case"PAA":return(h?(r=t.textContent)===null||r===void 0?void 0:r.trim():t.getAttribute("data-query"))||"";case"PASF":return i=t.querySelector("img"),(i===null||i===void 0?void 0:i.getAttribute("title"))||(i===null||i===void 0?void 0:i.getAttribute("alt"))||"";default:return((u=t.textContent)===null||u===void 0?void 0:u.trim())||""}}function et(n,t,i,r){var e=a("PASF"),o=a("PAA");const s=(n===null||n===void 0?void 0:n.trim().length)!==0&&(n.split(" ").length>=r||n[n.length-1]==="?");let{ds:u,maxC:h}=ot(t,i,s,o,e),f=[];for(let n=0;n<(u===null||u===void 0?void 0:u.length);n++)f.push({ds:u[n],maxCount:h[n]});return f}function ot(n,t,i,r,u){switch(!0){case i&&r&&u:return{ds:["PAA","PASF"],maxC:[3,5]};case i&&r:return{ds:["PAA","RS"],maxC:[3,3]};case!r&&u:return{ds:["RS","PASF"],maxC:[3,5]};case!u:return{ds:["RS","PAA"],maxC:[3,2]};default:return{ds:n,maxC:t}}}function r(n){if(!e[n]){let t;switch(n){case"MRS":t=_d.querySelectorAll(b);break;case"RS":t=_d.querySelectorAll(y);break;case"PAA":t=_d.querySelectorAll(c);t.length||(t=_d.querySelectorAll(v));break;case"PASF":t=_d.querySelectorAll(p);t.length||(t=_d.querySelectorAll(w));break;default:t=[]}e[n]=t}return e[n]}function a(n){var t;return(((t=r(n))===null||t===void 0?void 0:t.length)||0)>0}Object.defineProperty(t,"__esModule",{value:!0});t.getRichRequerySection=void 0;const o="#df_listaa .df_topAlAs.df_sideColor.df_alsoAsk",v=".df_alsoAskCard",y=".b_rs ul li .b_suggestionText",p=".lite-entcard-exp ul li a.as_pasf_data .cico",w="#l_ecrd_blk_ExploreMore ul li a.as_pasf_data .cico",b="#b_mrs_DynamicMRS ul li .b_dynamicMrsSuggestionText",s=2;let h=!1,c=o;const k=(n,t,r,u,f,e,s)=>{var v;let l=[],a=(e||[]).length;return(a=a,s.isACFPAA&&(c=(v=s.acfPAASelector)!==null&&v!==void 0?v:o,h=!0),r&&u===f&&a>0&&(l=d(s,u,e),l.length>0))?(i.addSBExpansionClassNames(n,t),l):(f.length==0&&a>0||i.removeSBExpansionClassNames(n,t),l)};t.getRichRequerySection=k;const e={}});define("Utilities/ClientCaching",["require","exports","Types/SuggestionTypes","Utilities/SuggestionUtilities"],function(n,t,i,r){"use strict";function e(n,t,e,s){let h=[...e];const c=n.maxSuggestions||4;let a=e.length,l=0;if(e.length<c){let v="";for(const n in u)t.startsWith(n)&&n.length>v.length&&(v=n);let r=[],y=e.length>0?e[e.length-1].id:null;l=y&&y.startsWith("sa_")?parseInt(y.split("_")[1],10)+1:5004;let p=t.length+"-"+e.length;if(v){const n=u[v];for(let u=0;u<n.length;u++){const o=n[u];if(e.some(n=>n.q===o.q)||r.push(Object.assign(Object.assign({},o),{originalIndex:a++,id:`sa_${l++}`,t:i.ASSuggestionTypes.PreviousContextualSuggestions,u:f(o.q,i.ASSuggestionTypes.PreviousContextualSuggestions,t,p,s)})),h.length+r.length>=c)break}}else if(n.isASCSBFSC){const n=CopilotSearch.AutoSuggest.getSuggestionChips();for(let u=0;u<n.length;u++){const v=n[u];if(e.some(n=>n.q===v.fullFormedQuery)||r.push({originalIndex:a++,id:`sa_${l++}`,q:v.fullFormedQuery.toLocaleLowerCase(),u:f(v.fullFormedQuery,i.ASSuggestionTypes.SuggestionChips,t,p,s),t:i.ASSuggestionTypes.SuggestionChips,hq:o(t,v.fullFormedQuery.toLocaleLowerCase())}),h.length+r.length>=c)break}}h=[...h,...r].slice(0,c)}return h=r.highlightSuggestions(t,h),u[t]=h,h}function o(n,t){const u=n.split(" "),r=t.split(" ");let i="";for(let n=0;n<r.length;++n)i=u.some(t=>t.localeCompare(r[n],_G.Lang,{sensitivity:"base"})==0)?`${i} ${r[n]}`:`${i} <strong>${r[n]}</strong>`;return i}function f(n,t,i,r,u){return n?`/search?q=${encodeURIComponent(n)}&qs=${encodeURIComponent(t)}&pq=${encodeURIComponent(i)}&sc=${encodeURIComponent(r)}&cvid=${encodeURIComponent(u)}`:""}Object.defineProperty(t,"__esModule",{value:!0});t.combineCachedSuggestions=void 0;let u={};t.combineCachedSuggestions=e});define("Components/AutoSuggestContainerDesktopEaseOpt",["require","exports","Types/SuggestionTypes","Components/SuggestionBlocks/WebSuggestions","Components/SuggestionBlocks/WebExpSuggestions","Components/SuggestionBlocks/RichRequerySuggestions","Components/Banners/InPrivateBanner","Components/Banners/ManageHistoryBanner","Utilities/SearchBoxUtilities","Utilities/SuggestionUtilities","Utilities/ExtendedSuggestionUtilities","Utilities/RequeryUtils","Utilities/SearchBoxUtilities","Utilities/EASEUtilsOpt","Constants/EASEConstants","Constants/MITConstants","Utilities/ClientCaching"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AutoSuggestContainerEaseOpt=void 0;const b=n=>{var it,rt,ut,ft;const[t,d]=preactHooks.useState(()=>({datasources:n.datasources,instrumentation:n.instrumentation,requestSequence:n.requestSequence,searchBoxQuery:n.searchBoxQuery,firstQuery:n.searchBoxQuery,showExpanded:n.showExpanded,hasQueryChanged:n.hasQueryChanged})),[b,et]=preactHooks.useState(()=>({selectedSuggestion:undefined,isKbSelected:!1})),[g,ot]=preactHooks.useState(()=>({easeSuggestion:undefined})),st=r=>{var e,o,u,f,b;try{if(t.requestSequence>=r[3])return;const[rt,nt,k,tt,ut]=r,g=h.processSuggestionResponse(nt,n.config);u=g===null||g===void 0?void 0:g.s;n.config.isZiHorLayout!=undefined&&n.config.isZiHorLayout>0?(c.MbAndSseZiSuggestionFetch(u),n.isHorizontalLayout=c.MbAndSseZiSuggestionsCount>=n.config.isZiHorLayout&&c.PnAndSseZiSuggestionsCount==0&&c.HSSuggestionsCount>5,n.isHorizontalLayout&&(u=c.GetFilteredSuggestionList(u))):n.config.isZiHorLayoutPNCombined!=undefined&&n.config.isZiHorLayoutPNCombined>0?(c.MbAndSseZiSuggestionFetch(u),n.isHorizontalLayout=c.MbAndSseZiSuggestionsCount<=n.config.isZiHorLayoutPNCombined&&c.PnAndSseZiSuggestionsCount>0&&c.HSSuggestionsCount>5,n.isHorizontalLayout&&(u=c.GetFilteredSuggestionList(u))):n.config.isZiHorLayoutCombinedTreatment!=undefined&&n.config.isZiHorLayoutCombinedTreatment>0&&(c.MbAndSseZiSuggestionFetch(u),n.isHorizontalLayout=c.MbAndSseZiSuggestionsCount>=n.config.isZiHorLayoutCombinedTreatment&&c.PnAndSseZiSuggestionsCount==0&&c.HSSuggestionsCount>5||n.config.isZiHorLayoutCombinedTreatment==4&&c.MbAndSseZiSuggestionsCount<=n.config.isZiHorLayoutCombinedTreatment&&c.PnAndSseZiSuggestionsCount>0&&c.HSSuggestionsCount>5,n.isHorizontalLayout&&(u=c.GetFilteredSuggestionList(u)));n.config.aspsc&&(u=h.combinePSCSuggestions(k,u));n.config.isCST1&&n.config.isASCSBF&&(u=w.combineCachedSuggestions(n.config,k,u,g.i.ig));u.length&&h.setPanelValue(u);const ft=(k===null||k===void 0?void 0:k.length)>0&&t.firstQuery===k&&t.showExpanded==i.SuggestionExpansionType.REQUERY_EXPANSION;v.getEASESection(n.config,u);f=[];b=[];const it={ds:(v.easeSuggestions===null||v.easeSuggestions===void 0?void 0:v.easeSuggestions.length)>0&&(u===null||u===void 0?void 0:u.length)>0&&u[0].bt==p.MITBannerSuggestionType?p.MITDataSourceType:y.EASEDataSourceType,suggestions:(v.easeSuggestions===null||v.easeSuggestions===void 0?void 0:v.easeSuggestions.length)>0&&((e=v.easeSuggestions[0].easeSuggestion)===null||e===void 0?void 0:e.length)>0?v.easeSuggestions[0].easeSuggestion:[]};if(d(t=>{const e=t.hasQueryChanged?[]:l.getRichRequerySection(n.header,n.searchBox,ft,n.searchBoxQuery,k,u,n.config);b=[{ds:"WEB",suggestions:u},...e];f=[{ds:"WEB",suggestions:u}];n.config.enableAsPanelExpansion&&f.push(...e);n.config.enableEASE&&f.push(it);let r=c.getSearchBoxExpansionValueOpt(n.config,e,it,k,u.length);return r==i.SuggestionExpansionType.REQUERY_EXPANSION||r==i.SuggestionExpansionType.ZIS_EXPANSION||r==i.SuggestionExpansionType.QF_EXPANSION?a.addSBExpansionClassNames(n.header,n.searchBox):a.removeSBExpansionClassNames(n.header,n.searchBox),n.config.asshdw&&a.addSBBoxShadowClassNames(n.searchBox),{datasources:f,instrumentation:g.i,requestSequence:tt,searchBoxQuery:k,firstQuery:t.firstQuery,showExpanded:r,hasQueryChanged:t.hasQueryChanged||n.searchBoxQuery!==k}}),et({selectedSuggestion:undefined,isKbSelected:!1}),ot({easeSuggestion:(v.easeSuggestions===null||v.easeSuggestions===void 0?void 0:v.easeSuggestions.length)>0?v.easeSuggestions[0].easeSuggestion.length>0?v.easeSuggestions[0].easeSuggestion[0]:undefined:undefined}),u.length>0){let t=[];f.forEach(n=>{t.push(...n.suggestions)});s.fireSuggestionsEvents(tt,t,k,ut,g.i.ig,(o=n.searchBoxInputElement)===null||o===void 0?void 0:o.id);n.config.asOnSBRound&&a.addSBRoundingClassNames(n.searchBox);ht(b,(v.easeSuggestions===null||v.easeSuggestions===void 0?void 0:v.easeSuggestions.length)>0?v.easeSuggestions[0]:undefined)}else n.config.asOnSBRound&&a.removeSBRoundingClassNames(n.searchBox),s.fireNoSuggestionsEvents(k)}catch(k){k instanceof Error&&(Log&&Log.Log&&Log.Log("NoShowCSR","AS","Error",!1,"Meta",k.stack||""),s.fireNoSuggestionsEvents(r[2]))}},ht=(n,t)=>{let i=[];n.forEach(n=>{i.push(...n.suggestions)});t&&t.feedbackData.length>0?i.push(...t.feedbackData):null;s.fireFeedbackEvents(i)},bt=()=>{switch(t.showExpanded){case i.SuggestionExpansionType.QF_EXPANSION:g.easeSuggestion&&!n.config.disEaseExp&&a.addSBExpansionClassNames(n.header,n.searchBox);break;default:a.removeSBExpansionClassNames(n.header,n.searchBox)}},kt=()=>{var r,u;if(n.config.enableEASE&&b.selectedSuggestion!=null&&b.selectedSuggestion!=undefined){const n=b.selectedSuggestion.dataSourceIndex,f=b.selectedSuggestion.index;if(n==0){const s=(r=t.datasources[n])===null||r===void 0?void 0:r.suggestions[f],c=v.easeSuggestions[f],o={ds:(s===null||s===void 0?void 0:s.bt)==p.MITBannerSuggestionType?p.MITDataSourceType:y.EASEDataSourceType,suggestions:v.easeSuggestions.length>0?(u=v.easeSuggestions[f])===null||u===void 0?void 0:u.easeSuggestion:[]},l=t.showExpanded==i.SuggestionExpansionType.ZIS_EXPANSION?i.SuggestionExpansionType.ZIS_EXPANSION:t.showExpanded==i.SuggestionExpansionType.REQUERY_EXPANSION?i.SuggestionExpansionType.REQUERY_EXPANSION:o.suggestions.length>0?i.SuggestionExpansionType.QF_EXPANSION:n==0?i.SuggestionExpansionType.NO_EXPANSION:t.showExpanded,e=[...t.datasources],h=e.findIndex(n=>n.ds==y.EASEDataSourceType||n.ds==p.MITDataSourceType);h!=-1&&e.splice(h,e.length-1);ht(e,c);e.push(o);d(n=>Object.assign(Object.assign({},n),{datasources:e,showExpanded:l}));ot(n=>Object.assign(Object.assign({},n),{easeSuggestion:(o===null||o===void 0?void 0:o.suggestions.length)>0?s:undefined}))}}},nt=t=>{d(i=>(ot(r=>(et(u=>{var e,o,s;const f=c.getNextSelectedSuggestion(u.selectedSuggestion,t,i.datasources,r.easeSuggestion);if(h.updateSearchBoxValueOnHover(f,i.datasources,i.searchBoxQuery),f){const t=(e=i.datasources[f.dataSourceIndex])===null||e===void 0?void 0:e.suggestions[f.index];t?(o=_ge(t.id))===null||o===void 0?void 0:o.scrollIntoView(!1):(s=n.searchBox)===null||s===void 0?void 0:s.scrollIntoView(!1)}return Object.assign(Object.assign({},u),{selectedSuggestion:f,isKbSelected:n.config.askbfocus&&f?!0:!1})}),Object.assign({},r))),Object.assign({},i)))},ct=()=>{nt(0)},lt=()=>{nt(1)},at=()=>{nt(3)},vt=()=>{nt(2)},dt=()=>{var t,i;if(n.config.hvrbgbr&&s.addSBBackgroundHoverClassNames(n.config.hvrbgbrgp4),n.datasources.length>0){h.setPanelValue(n.datasources[0].suggestions);let r=[];n.datasources.forEach(n=>{r.push(...n.suggestions)});s.fireSuggestionsEvents(n.requestSequence,r,n.searchBoxQuery,n.hideGhosting,(t=n.instrumentation)===null||t===void 0?void 0:t.ig,(i=n.searchBoxInputElement)===null||i===void 0?void 0:i.id)}else s.fireNoSuggestionsEvents(n.searchBoxQuery)},gt=()=>{sj_evt.bind("AS.ResponseRecieved",st),n.config.aspsc&&sj_evt.bind("AS.PSCResponseRecieved",h.storePSCSuggestions),sj_evt.bind("AS.KeyBoardUp",ct),sj_evt.bind("AS.KeyBoardDown",lt),sj_evt.bind("AS.KeyBoardLeft",at),sj_evt.bind("AS.KeyBoardRight",vt)},ni=()=>{sj_evt.unbind("AS.ResponseRecieved",st),n.config.aspsc&&sj_evt.unbind("AS.PSCResponseRecieved",h.storePSCSuggestions),sj_evt.unbind("AS.KeyBoardUp",ct),sj_evt.unbind("AS.KeyBoardDown",lt),sj_evt.bind("AS.KeyBoardLeft",at),sj_evt.bind("AS.KeyBoardRight",vt)};preactHooks.useEffect(()=>(dt(),gt(),()=>{ni()}),[]);let yt=preactHooks.useRef(null);preactHooks.useEffect(()=>(yt.current=setTimeout(()=>{t.showExpanded!=i.SuggestionExpansionType.ZIS_EXPANSION&&t.showExpanded!=i.SuggestionExpansionType.REQUERY_EXPANSION&&kt()},n.config.easePI),()=>{clearTimeout(yt.current||undefined)}),[b.selectedSuggestion]);preactHooks.useLayoutEffect(()=>{t.showExpanded!=i.SuggestionExpansionType.ZIS_EXPANSION&&t.showExpanded!=i.SuggestionExpansionType.REQUERY_EXPANSION&&bt()},[t.showExpanded]);const pt=n=>preactHooks.useMemo(()=>c.createSuggestionBlockEase(t===null||t===void 0?void 0:t.datasources[0].suggestions,t===null||t===void 0?void 0:t.showExpanded,n),[t===null||t===void 0?void 0:t.datasources[0].suggestions]),k=(n,t)=>{et(i=>Object.assign(Object.assign({},i),{selectedSuggestion:{index:n,dataSourceIndex:t||0},isKbSelected:!1}))},wt=n=>{d(t=>{const i=[...t.datasources[0].suggestions];return t.datasources[0].suggestions=i.filter(t=>t.originalIndex!==n).map((n,t)=>Object.assign(Object.assign({},n),{originalIndex:t})),Object.assign(Object.assign({},t),{datasources:[...t.datasources]})})},ti=()=>{var t="";return n.config.isCS&&(t="CSAS_"+n.config.sfx),t},tt=t=>{n.config.aspsc&&h.updateCvidInSuggestion(t),sj_evt.fire("AS.CsrSuggestionOnClick",t,t.q,ti())},ii=n.config&&(n.config.asSearchBtn||n.config.asSERPSearchBtn),ri=function(){const t=n.searchBoxInputElement;if(t){const i=n.existingFormInputEle,r=location.pathname;i&&(r=="/search"&&(i.value="serpsb"),r=="/"&&(i.value="assbcl"));const u=t.value;if(u&&u.length>0){const i=document.getElementById("est_switch");if(i||n.config.login===3){const n=document.getElementById("sb_form_go");n.click()}else{const n=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13});t.dispatchEvent(n)}}}};return preact.h("div",{"class":"sa_as"},preact.h("div",Object.assign({id:"sa_ul"},n.config.th&&{"data-partnertag":"AutoSuggest.Container"},{className:`${n.config.asSERPSearchBtn?"sa_ul_sb":""}`}),pt(!1).map(i=>{var u;return preact.h(r.WebSuggestions,{id:i.id,prefix:t.searchBoxQuery,heading:i.heading,suggestions:i.suggestions,searchBoxInputElement:n.searchBoxInputElement,onMouseOverFunc:k,onDeleteFunc:wt,selectedSuggestionIndex:((u=b.selectedSuggestion)===null||u===void 0?void 0:u.dataSourceIndex)===0?b.selectedSuggestion.index:undefined,isKBSelected:b.isKbSelected,onClickFunc:tt,isMobile:n.config.isMobile,enableRemoveHistory:n.config.login===4&&n.config.rmHS,ig:t.instrumentation.ig})})),t.showExpanded==i.SuggestionExpansionType.QF_EXPANSION&&g.easeSuggestion&&preact.h(u.WebExpSuggestions,{mitEventName:g.easeSuggestion.bt==p.MITBannerSuggestionType?g.easeSuggestion.q:undefined,datasources:t.datasources,onMouseOverFunc:k,selectedSuggestionIndex:(it=b.selectedSuggestion)===null||it===void 0?void 0:it.index,selectedSuggestionTypeIndex:(rt=b.selectedSuggestion)===null||rt===void 0?void 0:rt.dataSourceIndex,onClickFunc:tt,isKBSelected:b.isKbSelected}),t.showExpanded==i.SuggestionExpansionType.REQUERY_EXPANSION&&t.searchBoxQuery.length>0&&preact.h(f.RichRequerySuggestions,{datasources:t.datasources,onMouseOverFunc:k,selectedSuggestionIndex:(ut=b.selectedSuggestion)===null||ut===void 0?void 0:ut.index,selectedSuggestionTypeIndex:(ft=b.selectedSuggestion)===null||ft===void 0?void 0:ft.dataSourceIndex,onClickFunc:tt}),t.showExpanded==i.SuggestionExpansionType.ZIS_EXPANSION&&t.searchBoxQuery.length==0&&preact.h("div",{id:"sa_rpane","class":"sa_rpane"},pt(!0).map(t=>{var i;return preact.h(r.WebSuggestions,{id:t.id,heading:t.heading,suggestions:t.suggestions,onMouseOverFunc:k,onDeleteFunc:wt,selectedSuggestionIndex:((i=b.selectedSuggestion)===null||i===void 0?void 0:i.dataSourceIndex)===0?b.selectedSuggestion.index:undefined,onClickFunc:tt,isKBSelected:b.isKbSelected,isMobile:n.config.isMobile,enableRemoveHistory:n.config.login===4&&n.config.rmHS,isHorizontalLayout:n.isHorizontalLayout})})),ii?preact.h("div",{"class":`as_sb_wrapper ${n.config.isMobile?"as_sb_mobile":""}`,onMouseOver:()=>k(-1,-1),onClick:ri},preact.h("div",{"class":"sb_search_btn"},preact.h("span",{"class":"sb_search_icon"}),preact.h("span",null,sa_loc.ASSearchBtnText3))):null,n.config.login===3&&preact.h(e.InPrivateBanner,{isMobile:n.config.isMobile,hValue:t.instrumentation.h}),n.config.login===1&&h.hasHistorySuggestion(t.datasources[0].suggestions)&&preact.h(o.ManageHistoryBanner,{isMobile:n.config.isMobile,hValue:t.instrumentation.h}))};t.AutoSuggestContainerEaseOpt=b});define("Components/AutoSuggestContainerBOP",["require","exports","Components/SuggestionBlocks/WebSuggestions","Utilities/SearchBoxUtilities","Utilities/SuggestionUtilities","Utilities/ExtendedSuggestionUtilities","Utilities/ClientCaching"],function(n,t,i,r,u,f,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AutoSuggestContainerBOP=void 0;const o=n=>{const[t,o]=preactHooks.useState(()=>({datasources:n.datasources,instrumentation:n.instrumentation,requestSequence:n.requestSequence,searchBoxQuery:n.searchBoxQuery,selectedSuggestion:undefined,isKbSelected:!1})),h=i=>{var h,f,s;try{if(t.requestSequence>=i[3])return;const[y,a,l,v,p]=i,c=u.processSuggestionResponse(a,n.config);if(f=c===null||c===void 0?void 0:c.s,n.config.isCST1&&n.config.isASCSBF&&(f=e.combineCachedSuggestions(n.config,l,f,c.i.ig)),f.length&&u.setPanelValue(f),s=[],o(()=>(s=[{ds:"WEB",suggestions:f}],{datasources:s,instrumentation:c.i,requestSequence:v,searchBoxQuery:l,selectedSuggestion:undefined,isKbSelected:!1})),f.length>0){let t=[];s.forEach(n=>{t.push(...n.suggestions)});r.fireSuggestionsEvents(v,t,l,p,c.i.ig,(h=n.searchBoxInputElement)===null||h===void 0?void 0:h.id)}else r.fireNoSuggestionsEvents(l)}catch(c){c instanceof Error&&(Log&&Log.Log&&Log.Log("NoShowCSR","AS","Error",!1,"Meta",c.stack||""),r.fireNoSuggestionsEvents(i[2]))}},s=t=>{o(i=>{var e,o,s;const r=f.getNextSelectedSuggestion(i.selectedSuggestion,t,i.datasources,undefined);if(u.updateSearchBoxValueOnHover(r,i.datasources,i.searchBoxQuery),r){const t=(e=i.datasources[r.dataSourceIndex])===null||e===void 0?void 0:e.suggestions[r.index];t?(o=_ge(t.id))===null||o===void 0?void 0:o.scrollIntoView(!1):(s=n.searchBox)===null||s===void 0?void 0:s.scrollIntoView(!1)}return Object.assign(Object.assign({},i),{selectedSuggestion:r,isKbSelected:!0})})},c=()=>{s(0)},l=()=>{s(1)},a=()=>{s(3)},v=()=>{s(2)},y=()=>{var t,i;if(n.datasources.length>0){u.setPanelValue(n.datasources[0].suggestions);let f=[];n.datasources.forEach(n=>{f.push(...n.suggestions)});r.fireSuggestionsEvents(n.requestSequence,f,n.searchBoxQuery,n.hideGhosting,(t=n.instrumentation)===null||t===void 0?void 0:t.ig,(i=n.searchBoxInputElement)===null||i===void 0?void 0:i.id)}else r.fireNoSuggestionsEvents(n.searchBoxQuery)},p=()=>{sj_evt.bind("AS.BOPResponseRecieved",h),sj_evt.bind("AS.KeyBoardUp",c),sj_evt.bind("AS.KeyBoardDown",l),sj_evt.bind("AS.KeyBoardLeft",a),sj_evt.bind("AS.KeyBoardRight",v)},w=()=>{sj_evt.unbind("AS.BOPResponseRecieved",h),sj_evt.unbind("AS.KeyBoardUp",c),sj_evt.unbind("AS.KeyBoardDown",l),sj_evt.bind("AS.KeyBoardLeft",a),sj_evt.bind("AS.KeyBoardRight",v)};preactHooks.useEffect(()=>(y(),p(),()=>{w()}),[]);const b=n=>preactHooks.useMemo(()=>f.createSuggestionBlockEase(t===null||t===void 0?void 0:t.datasources[0].suggestions,undefined,n),[t===null||t===void 0?void 0:t.datasources[0].suggestions]),k=(n,t)=>{o(i=>Object.assign(Object.assign({},i),{selectedSuggestion:{index:n,dataSourceIndex:t||0},isKbSelected:!1}))},d=n=>{o(t=>{const i=[...t.datasources[0].suggestions];return t.datasources[0].suggestions=i.filter(t=>t.originalIndex!==n).map((n,t)=>Object.assign(Object.assign({},n),{originalIndex:t})),Object.assign(Object.assign({},t),{datasources:[...t.datasources]})})},g=()=>{var t="";return n.config.isCS&&(t="CSAS_"+n.config.sfx),t},nt=(t,i)=>{n.config.aspsc&&u.updateCvidInSuggestion(t),sj_evt.fire("AS.CsrSuggestionOnClick",t,t.q,g(),i)};return preact.h("div",{"class":"sa_as"},preact.h("div",Object.assign({id:"sa_ul"},n.config.th&&{"data-partnertag":"AutoSuggest.Container"},{className:`${n.config.asSERPSearchBtn?"sa_ul_sb":""}`}),b(!1).map(r=>{var u;return preact.h(i.WebSuggestions,{id:r.id,prefix:t.searchBoxQuery,heading:r.heading,suggestions:r.suggestions,searchBoxInputElement:n.searchBoxInputElement,onMouseOverFunc:k,onDeleteFunc:d,selectedSuggestionIndex:((u=t.selectedSuggestion)===null||u===void 0?void 0:u.dataSourceIndex)===0?t.selectedSuggestion.index:undefined,isKBSelected:t.isKbSelected,onClickFunc:nt,isMobile:n.config.isMobile,enableRemoveHistory:n.config.login===4&&n.config.rmHS,ig:t.instrumentation.ig})})))};t.AutoSuggestContainerBOP=o});define("Bootstrap/DesktopEaseOpt/AppCsrDesktopEaseOpt",["require","exports","Types/SuggestionTypes","Components/AutoSuggestContainerDesktopEaseOpt","Components/AutoSuggestContainerBOP","Utilities/RequeryUtils","Utilities/SearchBoxUtilities","Utilities/EASEUtilsOpt","Utilities/SuggestionUtilities","Utilities/ExtendedSuggestionUtilities","Utilities/ClientCaching","Constants/EASEConstants","Constants/MITConstants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(){function n(t){var g,nt,tt,u,y,d;const[ft,et,v,ot,st]=t;if(typeof preact=="undefined"||typeof preactHooks=="undefined"){const n=`{ "cvid": "${_G.IG}", "q": "${v}" }`;Log&&Log.Log&&Log.Log("AutoSuggestCSR","AS","PreactNotPresent",!1,"Meta",n);return}const ht=document.getElementById("sw_as"),b=document.getElementById("b_header"),it=(g=document.getElementsByClassName("sbox_sl")[0])!==null&&g!==void 0?g:document.getElementsByClassName("sbox_cn")[0],p=it!==null&&it!==void 0?it:document.getElementsByClassName("b_searchboxForm")[0],ct=document.getElementById("sb_form_q"),lt=(nt=document.getElementById("sb_form"))===null||nt===void 0?void 0:nt.querySelector('input[name="form"]'),w=s.processSuggestionResponse(et,sa_config);u=w===null||w===void 0?void 0:w.s;const rt=f.getRichRequerySection(b,p,(sa_config.enableAsPanelExpansion||!1)&&(v===null||v===void 0?void 0:v.length)>0&&u.length>0,v,v,u,sa_config);y=!1;sa_config.isZiHorLayout!=undefined&&sa_config.isZiHorLayout>0?(h.MbAndSseZiSuggestionFetch(u),y=h.MbAndSseZiSuggestionsCount>=sa_config.isZiHorLayout&&h.PnAndSseZiSuggestionsCount==0&&h.HSSuggestionsCount>5,y&&(u=h.GetFilteredSuggestionList(u))):sa_config.isZiHorLayoutPNCombined!=undefined&&sa_config.isZiHorLayoutPNCombined>0?(h.MbAndSseZiSuggestionFetch(u),y=h.MbAndSseZiSuggestionsCount<=sa_config.isZiHorLayoutPNCombined&&h.PnAndSseZiSuggestionsCount>0&&h.HSSuggestionsCount>5,y&&(u=h.GetFilteredSuggestionList(u))):sa_config.isZiHorLayoutCombinedTreatment!=undefined&&sa_config.isZiHorLayoutCombinedTreatment>0&&(h.MbAndSseZiSuggestionFetch(u),y=h.MbAndSseZiSuggestionsCount>=sa_config.isZiHorLayoutCombinedTreatment&&h.PnAndSseZiSuggestionsCount==0&&h.HSSuggestionsCount>5||sa_config.isZiHorLayoutCombinedTreatment==4&&h.MbAndSseZiSuggestionsCount<=sa_config.isZiHorLayoutCombinedTreatment&&h.PnAndSseZiSuggestionsCount>0&&h.HSSuggestionsCount>5,y&&(u=h.GetFilteredSuggestionList(u)));sa_config.isCST1&&sa_config.isASCSBF&&(u=c.combineCachedSuggestions(sa_config,v,u,w.i.ig));o.getEASESection(sa_config,u);const ut={ds:(o.easeSuggestions===null||o.easeSuggestions===void 0?void 0:o.easeSuggestions.length)>0&&(u===null||u===void 0?void 0:u.length)>0&&u[0].bt==a.MITBannerSuggestionType?a.MITDataSourceType:l.EASEDataSourceType,suggestions:(o.easeSuggestions===null||o.easeSuggestions===void 0?void 0:o.easeSuggestions.length)>0&&((tt=o.easeSuggestions[0].easeSuggestion)===null||tt===void 0?void 0:tt.length)>0?o.easeSuggestions[0].easeSuggestion:[]};let k=h.getSearchBoxExpansionValueOpt(sa_config,rt,ut,v,u.length);k==i.SuggestionExpansionType.NO_EXPANSION?e.removeSBExpansionClassNames(b,p):k==i.SuggestionExpansionType.REQUERY_EXPANSION||k==i.SuggestionExpansionType.ZIS_EXPANSION?e.addSBExpansionClassNames(b,p):k!=i.SuggestionExpansionType.QF_EXPANSION||sa_config.disEaseExp||e.addSBExpansionClassNames(b,p);sa_config.asshdw&&e.addSBBoxShadowClassNames(p);sa_config.asOnSBRound&&e.addSBRoundingClassNames(p);d=[];d=[{ds:"WEB",suggestions:u}];sa_config.enableAsPanelExpansion&&d.push(...rt);sa_config.enableEASE&&d.push(ut);preact.hydrate(preact.h(r.AutoSuggestContainerEaseOpt,{header:b,searchBox:p,searchBoxInputElement:ct,existingFormInputEle:lt,id:"sa_as_id",datasources:d,searchBoxQuery:v,requestSequence:ot,hideGhosting:st,instrumentation:w===null||w===void 0?void 0:w.i,hasQueryChanged:!1,config:sa_config,showExpanded:k,isHorizontalLayout:y}),ht);sj_evt.unbind("AS.ResponseRecieved",n)}if(sj_evt.bind("AS.ResponseRecieved",n,1),sa_config.enablePreactLogging&&Log&&Log.Log&&Log.Log("AutoSuggestCSRP","AS","PreactLibPresent",!1),sa_config.isBOP){sj_evt.bind("AS.BOPResponseRecieved",n,1);function n(t){var r,e;const[o,h,f,l,a]=t;if(typeof preact=="undefined"||typeof preactHooks=="undefined"){const n=`{ "cvid": "${_G.IG}", "q": "${f}" }`;Log&&Log.Log&&Log.Log("AutoSuggestCSR","AS","PreactNotPresent",!1,"Meta",n);return}const v=document.getElementById("sw_as_bop"),y=document.getElementById("b_copilot_composer_sbox"),p=document.getElementById("b_copilot_composer_2"),w=document.getElementById("b_header"),i=s.processSuggestionResponse(h,sa_config);r=i===null||i===void 0?void 0:i.s;sa_config.isCST1&&sa_config.isASCSBF&&(r=c.combineCachedSuggestions(sa_config,f,r,i.i.ig));e=[];e=[{ds:"WEB",suggestions:r}];preact.hydrate(preact.h(u.AutoSuggestContainerBOP,{header:w,searchBox:y,searchBoxInputElement:p,id:"sa_as_id",datasources:e,searchBoxQuery:f,requestSequence:l,hideGhosting:a,instrumentation:i===null||i===void 0?void 0:i.i,config:sa_config}),v);sj_evt.unbind("AS.BOPResponseRecieved",n)}}}()})