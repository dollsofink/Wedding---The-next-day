var ClickBackRS;(function(n){function er(){ar()&&(or(),sj_evt.bind("load_clickback_rs",p,!0),sj_evt.bind("ajax.unload",li))}function or(){var r,f,e,s,c,l,n,v,y;if(typeof _G=="undefined"||_G.EF===undefined||_G.EF.cbRSInLastMLTA===undefined||_G.EF.cbRSInLastMLTA!==1||typeof ClickBackRSUtility=="undefined"||ClickBackRSUtility.isRSInViewport()||ft(h)?typeof _G=="undefined"||_G.EF===undefined||_G.EF.cbRSInFirstAlgo===undefined||_G.EF.cbRSInFirstAlgo!==1||typeof ClickBackRSUtility=="undefined"||ClickBackRSUtility.isRSInViewport()||ft(h)||(t=ClickBackRSUtility.getFirstAlgo(),!t||t.classList.contains("b_algoBorder")||t.classList.contains("b_rc_gb_template")||t.classList.contains("b_algoBigWiki")||(typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSInFirstAlgoFlare!==undefined&&_G.EF.cbRSInFirstAlgoFlare===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsFirstAlgo"]),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.renderCBRSInFirstAlgo!==undefined&&_G.EF.renderCBRSInFirstAlgo===1&&ut())):(t=ClickBackRSUtility.getLastMLTA(),t&&(u=ClickBackRSUtility.getMLTABlock(),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSInLastMLTAFlare!==undefined&&_G.EF.cbRSInLastMLTAFlare===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsLastMLTA"]),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSBelowMLTA!==undefined&&_G.EF.cbRSBelowMLTA===1&&ut())),gt())i=o()?document.querySelectorAll([b,lt].join(",")):document.querySelectorAll(b);else if(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRSonTopW)===1)i=o()?document.querySelectorAll([lt,a,k].join(",")):document.querySelectorAll([a,k].join(","));else{if(n=_ge("b_results"),n==null)return;i=o()?n.querySelectorAll([lt,a].join(",")):n.querySelectorAll(a)}i!=null&&(typeof _G!="undefined"&&((f=_G===null||_G===void 0?void 0:_G.EF)===null||f===void 0?void 0:f.clickbackRSonTopWFlare)===1&&(v=document.querySelectorAll(k),v&&v.length>0&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrstopwflare"])),typeof _G!="undefined"&&((e=_G===null||_G===void 0?void 0:_G.EF)===null||e===void 0?void 0:e.isClickbackRSInTab)===1&&typeof _w!="undefined"&&vr()&&yr()&&(typeof _G!="undefined"&&((s=_G===null||_G===void 0?void 0:_G.EF)===null||s===void 0?void 0:s.clickbackRSInTabFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsintabflare"]),typeof _G!="undefined"&&((c=_G===null||_G===void 0?void 0:_G.EF)===null||c===void 0?void 0:c.enableClickbackRSInTab)===1&&p()),y=kr(vt),typeof _w!="undefined"&&y&&(sj_be(_d,vt.visibilityChangedEventName,hi),sj_evt.bind("ajax.unload",ai)),g=document.querySelectorAll(gi),fu(),cr(),typeof _G!="undefined"&&((l=_G===null||_G===void 0?void 0:_G.EF)===null||l===void 0?void 0:l.clickbackRSAfterOnP1)===1?sj_evt.bind("onP1",function(){sb_st(si,ur)}):si(),sessionStorage[h]&&sessionStorage.removeItem(h),sessionStorage[d]&&sessionStorage.removeItem(d),du())}function p(){var n,r;if(nt=ft(h),yt=ft(d),i&&nt&&yt){for(t=null,n=0;n<i.length;n++)if(r=i[n],r&&nt==r.getAttribute("href")&&yt==n.toString()){t=bt(r);break}if(t){if(o()){if(t.querySelector(".b_rs")||vu(t))return}else if(gt()&&(t.classList.contains("b_algoBorder")||t.classList.contains("b_rc_gb_template")||t.classList.contains("b_algoBigWiki")||bi(t)))return;ut()}}}function sr(){var n=document.querySelectorAll("#inline_rs .rslist .b_suggestionText"),i,t,r;if(!n||n.length===0)return"";for(i=[],t=0;t<n.length;t++)r=n[t].textContent,r&&i.push(r);return i.join(",")}function ut(n){var i,r,u,f,e,s;if((n===void 0&&(n=!1),!o()||((i=t===null||t===void 0?void 0:t.classList)===null||i===void 0?!void 0:!i.contains("b_ans"))||(su()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbRSOnAnswerFlare"]),!hu()))&&!pt&&t){if(f=t.querySelector(tt),f){oi(f);return}(t===null||t===void 0?void 0:t.classList.contains("b_algo"))?(e=ir.replace(/\&amp\;/g,"&")+"&IG="+_G.IG+"&url="+dr(t)+"&q="+wr()+"&iid="+t.getAttribute("iid")+"&boprs="+sr(),l("RSClickBackRequest",nt||""),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackAjaxRsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsajaxflare"]),pt=!0,s=t,sj_ajax(e,{callback:function(i,r){var f,u,e;(pt=!1,t===s)&&(i&&r?(u=sj_ce("div"),r.appendTo(u),((f=u.querySelectorAll(tt))===null||f===void 0?void 0:f.length)==1?(l("RSClickBackResponse","true"),pr()?w(n):(e=u.querySelector(tt),w(n,e))):(w(n),l("RSClickBackResponse","false"))):(w(n),l("RSClickBackResponse","false")))}})):(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRsAdsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsAdsFlare"]),w(n))}}function w(n,t){(n===void 0&&(n=!1),t===void 0&&(t=_ge(nr)),t)&&(r=t,hr(r),n?(r.classList.contains(v)||Lib.CssClass.add(r,v),r.style.height="0",r.style.overflow="hidden",r.style.transition="height ".concat(ii,"ms"),r.classList.contains(f)&&Lib.CssClass.remove(r,f),wt=!1,c=r,ci(r),l("RSHoverShow","Triggered"),Log.LogFilterFlare(["cbRSHover"]),sb_st(function(){r.style.height=r.scrollHeight+"px"},ii)):oi(r))}function oi(n){if(n){c&&c!=n&&!c.classList.contains(f)&&Lib.CssClass.add(c,f);wi()&&n&&n.parentElement?(n.parentElement.id==="b_topw"?n.classList.contains(s)||Lib.CssClass.add(n,s):n.classList.contains(at)||Lib.CssClass.add(n,at),sj_evt.fire("renderCBRS")):n.classList.contains(s)&&Lib.CssClass.remove(n,s);n.classList.contains(f)&&Lib.CssClass.remove(n,f);var t=n.offsetHeight;n.style.height=t+"px";wt=!1;c=n;ci(n)}}function hr(n){var e,h,c,a,p,i,y;if(n&&t)if(n.classList.contains(v)||Lib.CssClass.add(n,v),n.classList.contains(f)||Lib.CssClass.add(n,f),l("Show","Triggered"),typeof _G!="undefined"&&((e=_G===null||_G===void 0?void 0:_G.EF)===null||e===void 0?void 0:e.clickbackRSFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsflare"]),p=t.offsetHeight-tr,Lib.CssClass.add(t,"qbrs"),t.setAttribute("data-oAH",p+"px"),wi()&&ti&&u)ti=!1,n.style.marginBottom="10px",u.id==="b_topw"?(Lib.CssClass.add(n,s),u.appendChild(n)):((h=u.parentElement)===null||h===void 0?void 0:h.id)==="b_topw"&&u.classList.contains("b_ans")?(Lib.CssClass.add(n,s),u.parentNode&&u.parentNode.insertBefore(n,u)):(Lib.CssClass.add(n,at),u.nextSibling&&u.parentNode&&u.parentNode.insertBefore(n,u.nextSibling));else if(!o()||t.classList.contains("sb_adTA")){if(i=t.querySelector(tt),i){r=i;return}t.appendChild(n)}else{if(i=((a=(c=t.nextElementSibling)===null||c===void 0?void 0:c.classList)===null||a===void 0?void 0:a.contains(v))?t.nextElementSibling:null,i){r=i;return}Lib.CssClass.add(n,"b_ans");n.style.paddingTop="0";n.style.marginBottom="4px";n.style.marginTop="-4px";y=t.parentNode;y&&t.nextSibling&&y.insertBefore(n,t.nextSibling)}}function cr(){var u,h,c,t,f,n,e,s,r,l;if(i)for(h=gt()||o()?i.length:i.length-1,c=function(n){var r=i[n],u,t;sj_be(r,"click",function(){kt(r.getAttribute("href"),n.toString())});u=bt(r);t=u?u.querySelector(ki):null;t&&t!=ni&&sj_be(t,"click",function(){kt(r.getAttribute("href"),n.toString())});ni=t},n=0;n<h;n++)c(n);if(typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSonAdAlgoFlare)===1&&(t=_d.querySelectorAll(b),f=_d.querySelectorAll([a,k].join(",")),t.length>0))for(n=0;n<t.length;n++){for(e=t[n],s=!0,r=0;r<f.length;r++)if(l=f[r],e.getAttribute("href")===l.getAttribute("href")){s=!1;break}s&&sj_be(e,"click",function(){Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsadalgoflare"])})}}function si(){var t,n;if(g)for(t=0;t<g.length;t++)n=g[t],n.classList.contains("b_algoBorder")||n.classList.contains("b_rc_gb_template")||n.classList.contains("b_algoBigWiki")||(sj_be(n,"mouseover",nu),sj_be(n,"mouseleave",tu),sj_be(n,"mouseout",iu))}function lr(n){n&&n&&!n.classList.contains(f)&&Lib.CssClass.add(n,f)}function hi(){p()}function ci(n){var t,i,r;if(n&&(t=n.querySelector(".b_clickback_close, #rscar_close"),t)){for(i=0;i<y.length;i++)if(y[i].element===t){sj_ue(t,"click",y[i].handler);y.splice(i,1);break}r=function(){return lr(n)};y.push({element:t,handler:r});sj_be(t,"click",r)}}function li(){sj_evt.unbind("load_clickback_rs",p);sj_evt.unbind("ajax.unload",li)}function ai(){sj_ue(_d,vt.visibilityChangedEventName,hi);sj_evt.unbind("ajax.unload",ai)}function ar(){var n="sschkad",t="sschvad",i;try{if(typeof Storage=="undefined"||typeof sessionStorage=="undefined"||(sessionStorage.setItem(n,t),i=sessionStorage.getItem(n),sessionStorage.removeItem(n),i!=t))return!1}catch(r){return!1}return!0}function vr(){var t,n,i,r;return!!(((t=_w===null||_w===void 0?void 0:_w.performance)===null||t===void 0?void 0:t.navigation)||((r=(i=(n=_w===null||_w===void 0?void 0:_w.performance)===null||n===void 0?void 0:n.getEntriesByType)===null||i===void 0?void 0:i.call(n,"navigation"))===null||r===void 0?void 0:r.length)>0)}function yr(){var n,t,i,r,u;return"performance"in _w&&(((r=(i=(t=(n=_w.performance)===null||n===void 0?void 0:n.getEntriesByType)===null||t===void 0?void 0:t.call(n,"navigation"))===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.type)==="back_forward"||((u=_w.performance.navigation)===null||u===void 0?void 0:u.type)&&_w.performance.navigation.type===_w.performance.navigation.TYPE_BACK_FORWARD)}function bt(n){for(var t,i,u=Array.prototype.slice.call(document.querySelectorAll(b)),f=u.includes(n),r;n&&n.id!="b_results";){if(o()){if(f&&n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA"))||n.classList&&n.classList.contains("b_ans")&&(((t=n.parentElement)===null||t===void 0?void 0:t.id)==="b_results"||((i=n.parentElement)===null||i===void 0?void 0:i.id)==="b_topw"))return n}else if(n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA")))return n;if(r=n.parentElement,!r)break;n=r}return null}function ft(n){return sessionStorage[n]?sessionStorage.getItem(n):null}function kt(n,t){sessionStorage.setItem(h,n);sessionStorage.setItem(d,t)}function pr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.clickbackRScflog!==undefined&&_G.EF.clickbackRScflog===1}function l(n,t){_w.sj_log&&sj_log("CI.RSSQB",n,t)}function wr(){return vi(window.location.search,"q")}function br(){var i=undefined,r=undefined,t,n;if("hidden"in _d)i="hidden",r="visibilitychange";else for(t=["webkit","moz","ms","o"],n=0;n<t.length;n++)if(t[n]+"Hidden"in _d){i=t[n]+"Hidden";r=t[n]+"visibilitychange";break}return{hiddenProperty:i,visibilityChangedEventName:r}}function kr(n){return!!(n&&n.hiddenProperty&&n.visibilityChangedEventName)}function dr(n){var t,i;return n?(t=n.querySelector("h2 a"),!t)?null:(i=t.getAttribute("href"),!i)?null:gr(i):null}function gr(n){var t=vi(n,"u");if(!t||!t.startsWith("a1"))return n;try{return t=t.substring(2).replace(/_/g,"/").replace(/-/g,"+"),t=decodeURIComponent(atob(t))}catch(i){return Log.Log("EnLink",n,t,!1),n}}function vi(n,t){var r=new RegExp("[?&]{1}"+t+"=([^&]+)([\\/\\\\][^?#]*)?([?#].*)?","i"),i=n.match(r);return i?i[1]:""}function yi(n){if((!ri||!ri.matches)&&wt&&!ui&&!fi&&!ei){var i=bt(n);i&&!eu(i)&&((lu()&&ClickBackRSUtility.isTopWideAds(i)&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrstopwhoverflare"]),au()&&ClickBackRSUtility.isTopWideAds(i))||(t=i,it=sb_st(function(){ru()},rr)))}}function nu(n){e=n.currentTarget;dt();yi(e);e&&e.setAttribute("data-rs","true")}function tu(){dt();e&&e.removeAttribute("data-rs");e=null}function iu(n){dt();e&&e.removeAttribute("data-rs");yi(n.currentTarget)}function dt(){it&&sb_ct(it);it=null}function ru(){ut(!0)}function uu(n){if(et!==n){var t=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){fi=n.isIntersecting})});t&&(t.observe(n),et=n)}}function pi(){var n=document.querySelector(".b_rs");n&&et!==n&&uu(n)}function fu(){var r=document.querySelector(".b_rrsr"),n,t,i;r&&(n=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){ui=n.isIntersecting})}),n&&n.observe(r));pi();typeof MutationObserver=="undefined"||ot||(ot=new MutationObserver(function(n){var t=!1;n.forEach(function(n){n.addedNodes.forEach(function(n){var r,u,i;n.nodeType===Node.ELEMENT_NODE&&(i=n,(((r=i.matches)===null||r===void 0?void 0:r.call(i,".b_rs"))||((u=i.querySelector)===null||u===void 0?void 0:u.call(i,".b_rs")))&&(t=!0))})});t&&pi()}),ot.observe(document.body,{childList:!0,subtree:!0}));t=document.querySelector(".richrswrapper");t&&(i=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){ei=n.isIntersecting})}),i&&i.observe(t))}function eu(n){return n.querySelector(".ad_hidenESL")?!0:!1}function gt(){var n;return typeof _G!="undefined"&&((n=_G===null||_G===void 0?void 0:_G.EF)===null||n===void 0?void 0:n.clickbackRSonAdAlgo)===1}function o(){return ou()&&document.querySelector("#b_results .b_adMiddle, #b_results .b_adBottom")!==null?!1:typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswer!==undefined&&_G.EF.cbRSOnAnswer===1}function ou(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRsOnAnswerNoAds!==undefined&&_G.EF.cbRsOnAnswerNoAds===1}function su(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerFlare!==undefined&&_G.EF.cbRSOnAnswerFlare===1}function hu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerCF!==undefined&&_G.EF.cbRSOnAnswerCF===1}function wi(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSBelowMLTA!==undefined&&_G.EF.cbRSBelowMLTA===1}function cu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSHoveronTopW!==undefined&&_G.EF.cbRSHoveronTopW===1}function lu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSHoveronTopWFlare!==undefined&&_G.EF.cbRSHoveronTopWFlare===1}function au(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSHoveronTopWCF!==undefined&&_G.EF.cbRSHoveronTopWCF===1}function vu(n){var t,i,r=document.querySelector(".b_rs");return r?((t=n.classList)===null||t===void 0?void 0:t.contains("b_ans"))&&((i=n.nextElementSibling)===null||i===void 0?void 0:i.querySelector(".b_rs"))?!0:bi(n):!1}function bi(n){if(!n)return!1;var t=_d.querySelectorAll("#b_results > .b_algo, #b_topw .sb_adTA, #b_results .sb_adTA");return t.length>0&&t[t.length-1]===n?!0:!1}function yu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRS===1}function pu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSFlare===1}function wu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSCF===1}function bu(){for(var i,n,r,u=document.querySelectorAll(".b_algo"),t=0;t<u.length;t++)if(i=u[t],n=i.getBoundingClientRect(),n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)&&(r=i.querySelector("h2 > a"),r))return r;return null}function ku(){var r=document.querySelector(".b_inline_ajax_rs"),u,t,n,f;if((!r||!(r.getBoundingClientRect().top>=0)||!(r.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)))&&(u=bu(),u&&i&&(t=u.getAttribute("href"),t)))for(n=0;n<i.length;n++)if(f=i[n],f.getAttribute("href")===t){pu()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["autoShowCBRSFlare"]);wu()||(kt(t,n.toString()),p());break}}function du(){yu()&&_d.addEventListener("visibilitychange",function(){rt&&(clearTimeout(rt),rt=null);_d.visibilityState==="hidden"&&(rt=setTimeout(function(){ku()},fr))})}var st,ht,ct,ki=".b_attribution cite, .b_tpcn, .b_adTopIcon_container",di=typeof _G!="undefined"&&((st=_G===null||_G===void 0?void 0:_G.EF)===null||st===void 0?void 0:st.cbrsTopWMainline)===1?"#b_topw .b_wpt_top .sb_adTA a":"#b_topw .sb_adTA a",b=["#b_results > .b_algo a",di,"#b_results .sb_adTA a"].join(","),a="#b_results > .b_algo > h2 > a,#b_results > .b_algo .sp-rn-title  > h2 > a,#b_results > .b_algo .b_imagePair  > h2 > a,#b_results > .b_algo > .b_title > h2 > a,#b_results .sb_adTA > h2 > a,#b_results .sb_adTA >.b_title > h2 > a",k=typeof _G!="undefined"&&((ht=_G===null||_G===void 0?void 0:_G.EF)===null||ht===void 0?void 0:ht.cbrsTopWMainline)===1?"#b_topw .b_wpt_top .sb_adTA > h2 > a,#b_topw .b_wpt_top .sb_adTA >.b_title > h2 > a":"#b_topw .sb_adTA > h2 > a,#b_topw .sb_adTA >.b_title > h2 > a",gi=cu()?["#b_results > .b_algo",typeof _G!="undefined"&&((ct=_G===null||_G===void 0?void 0:_G.EF)===null||ct===void 0?void 0:ct.cbrsTopWMainline)===1?"#b_topw .b_wpt_top .sb_adTA":"#b_topw .sb_adTA","#b_results .sb_adTA"].join(","):"#b_results > .b_algo,#b_results .sb_adTA",lt="#b_results > .b_ans a",nr="inline_rs",f="b_hide",tr=14,s="b_wpt_top",at="b_ans",vt=br(),h="cbAdUrl",d="cbAdUrlIndex",i,g,ni=null,nt=null,yt=null,t=null,pt=!1,ir="/recoRS?",tt=".b_inline_ajax_rs",v="b_inline_ajax_rs",ti=!0,u=null,c=null,r=null,rr=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHT)?parseInt(_G.CBRSHT)||600:600,ii=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTAM)?parseInt(_G.CBRSHTAM)||400:400,ur=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTonP1)?parseInt(_G.CBRSHTonP1)||3e3:3e3,ri=_w.matchMedia&&_w.matchMedia("(prefers-reduced-motion: reduce)"),wt=!0,it=null,e=null,ui=!1,fi=!1,ei=!1,y=[],fr=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.AutoShowCBRSInterval)?parseInt(_G.AutoShowCBRSInterval)||3e5:3e5,rt=null,et,ot;n.bindEvent=er;et=null;ot=null})(ClickBackRS||(ClickBackRS={}))