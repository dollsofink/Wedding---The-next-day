var CaptionClickable;(function(){function e(){for(var u,t,f,e=document.querySelectorAll(".b_imgcap_altitle"),i=0;i<e.length;i++)t=e[i],o(t);for(u=document.querySelectorAll(".b_caption"),i=0;i<u.length;i++)t=u[i],n(t,"b_rich")?(f=t===null||t===void 0?void 0:t.querySelector(".b_imagePair"),f?s(t,f):r(t)):r(t)}function o(n){var u,r;((u=n===null||n===void 0?void 0:n.children)===null||u===void 0?void 0:u.length)!==0&&(r=i(n),r||(r=i(n.previousElementSibling)),r)&&t(n,r)}function s(n,r){var u,f;((u=r===null||r===void 0?void 0:r.children)===null||u===void 0?void 0:u.length)!==0&&(f=i(n.previousElementSibling),f)&&t(r,f)}function r(r){var l,u,e,f,o,s;if(r.children.length!=0&&!n(r.parentElement,"b_go_big")&&!n(r.parentElement,"b_algo_group")&&(u=i(r.previousElementSibling),u))if(h(r.children))t(r,u);else{if(r.querySelector(".tab-content")||r.querySelector(".s_appgobig"))return;var a=!1,v=!1,y=[];for(e=0;e<r.children.length;e++)(f=r.children[e],n(f,"invtesthooks")||n(f,"testhooks")||!f.innerHTML)||(o=c(f),o?(y.push(o),o.type==="snippet"&&(v=!0)):a=!0);a&&v?y.forEach(function(n){var r=n.type,i=n.node;t(i,u)}):a?(s=r.querySelector('p[class*="b_lineclamp"]'),s&&((l=s.parentElement)===null||l===void 0?void 0:l.tagName)!=="A"&&t(s,u)):t(r,u)}}function h(t){var r,i;if(!t.length||!n(t[0],"b_ad_description"))return!1;for(r=1;r<t.length;r++)if(i=t[r],i.tagName!=="P"&&!n(i,"b_secondaryText")&&!n(i,"combined-ext")&&!n(i,"b_review"))return!1;return!0}function c(t){if(!t)return!1;if(n(t,"b_lineclamp")||n(t,"b_snippet"))return{type:"snippet",node:t};if(n(t,"b_factrow"))return{type:"textRow",node:t};if(n(t,"sa_uc")||n(t,"lisn_content")){var i=t.querySelector(".b_vList");if(i&&!i.querySelector("a")&&!i.querySelector(".b_slideexp"))return{type:"textList",node:t}}return!1}function t(n,t){n&&t&&(n.addEventListener("mouseover",function(){t.style.textDecoration="underline";n.style.cursor="pointer"}),n.addEventListener("mouseout",function(){t.style.textDecoration="";n.style.cursor=""}),n.addEventListener("pointerdown",function(n){var t=n.target;u(t)&&(Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["ExpandCapMD"]),f("BeaconCapMD"))}),n.addEventListener("click",function(n){var i,r=n.target,e=((i=window.getSelection())===null||i===void 0?void 0:i.toString().length)===0,o=e&&u(r);o&&(Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["DesPotenClick"]),Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["CaptionClicked"]),f("BeaconCapClick"),_w.sj_log&&sj_log("CI.CaptionClickableAll","CaptionClickableAll","Click"),_w.si_ct&&_w.si_ct(t),t.click())}))}function u(t){if(!t)return!1;for(var i=["A","BUTTON","H2","H3"],r=[];t&&(!n(t,"b_caption")||!n(t,"b_imgcap_altitle"));){if(i.indexOf(t.tagName)>=0||r.some(function(i){return n(t,i)}))return!1;t=t.parentElement}return!0}function i(n){var t,i;return n?n.tagName==="H2"||n.tagName==="H3"?n.querySelector("a"):((t=n.querySelector("h2"))===null||t===void 0?void 0:t.querySelector("a"))||((i=n.querySelector("h3"))===null||i===void 0?void 0:i.querySelector("a"))||null:null}function n(n,t){return!n||!t?!1:n.className.indexOf(t)>=0}function f(n){var t;if((t=window===null||window===void 0?void 0:window.navigator)===null||t===void 0?void 0:t.sendBeacon){var i=(new Date).getTime(),r="<E><T>Event.FilterFlare<\/T><IG>".concat(_G.IG,"<\/IG><TS>").concat(i,'<\/TS><D><![CDATA[{T:"CI.FilterFlare",queryTags:"').concat(n,'"}]\]><\/D><\/E>'),u="<ClientInstRequest><Events>".concat(r,"<\/Events><STS>").concat(i,"<\/STS><\/ClientInstRequest>");window.navigator.sendBeacon("/fd/ls/lsp.aspx?",u)}}e()})(CaptionClickable||(CaptionClickable={}))